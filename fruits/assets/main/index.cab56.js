window.__require=function e(t,i,o){function n(a,r){if(!i[a]){if(!t[a]){var s=a.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!r&&l)return l(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var d=i[a]={exports:{}};t[a][0].call(d.exports,function(e){return n(t[a][1][e]||e)},d,d.exports,e,t,i,o)}return i[a].exports}for(var c="function"==typeof __require&&__require,a=0;a<o.length;a++)n(o[a]);return n}({AR:[function(e,t,i){"use strict";cc._RF.push(t,"c82fejjck9NQrTOK8R3EWHG","AR"),Object.defineProperty(i,"__esModule",{value:!0}),i.AR=void 0;var o=function(){function e(e,t,i){this.my2DArray=new Array,this.rows=e,this.columns=t,this.initRows(e),this.initColumns(t,i)}return e.prototype.getValue=function(e,t){return e<0||t<0||e>=this.rows||t>=this.columns?null:this.my2DArray[e][t]},e.prototype.setValue=function(e,t,i){e<0||t<0||e>=this.rows||t>=this.columns||(this.my2DArray[e][t]=i)},e.prototype.initRows=function(e){if(!(e<1))for(var t=0;t<e;t++)this.my2DArray.push(new Array)},e.prototype.initColumns=function(e,t){if(!(e<1))for(var i=0;i<this.my2DArray.length;i++)for(var o=0;o<e;o++)this.my2DArray[i].push(t)},e.prototype.getArray=function(){return this.my2DArray},e}();i.AR=o,cc._RF.pop()},{}],CJ:[function(e,t,i){"use strict";cc._RF.push(t,"ae9aesluRBNTKrEAQWE2rm0","CJ");var o,n=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),c=function(e,t,i,o){var n,c=arguments.length,a=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(c<3?n(a):c>3?n(t,i,a):n(t,i))||a);return c>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.CJ=void 0;var a=e("./GD"),r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.banner=function(e){cc.sys.isNative&&(e?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","SFC_banner_show","(I)I",123):jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","SFC_banner_hide","(I)I",234))},t.reward=function(){cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","SFC_reward","()V")},t.rewardstatus=function(){cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","SFC_reward_status","()V")},t.rewardstart=function(){cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","SFC_reward_start","()V")},t.welcome=function(){if(cc.sys.isNative){if(a.GD.welcomecount++,1==a.GD.welcomecount)return;jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","SFC_welcome","()V")}},t.exit=function(){cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","SFC_exit","()V")},t.giftwall=function(){cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","SFC_gift_wall","()V")},t.rateus=function(){cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","SFC_rateus","()V")},t.rank=function(){cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","ranking","()V")},t.umengpoint=function(e){cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","SFC_UM_point","(Ljava/lang/String;)V",e)},t.umengpointcount=function(e,t){cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","SFC_UM_point_count","(Ljava/lang/String;Ljava/lang/String;)V",e,t)},t.umenglvstart=function(e){cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","SFC_UM_start_level","(I)V",e)},t.umenglvfinish=function(e){cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","SFC_UM_finish_level","(I)V",e)},t.umenglvfail=function(e){cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","SFC_UM_fail_level","(I)V",e)},t.shake=function(){cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","SFC_shake","()V")},t.judge=function(e){cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","SFC_judge","(I)V",e)},t.getjudge=function(){if(cc.sys.isNative)return jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","SFC_canjudge","()I")},t.net=function(){return jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","SFC_net","()I")},t.interstitial=function(){if(cc.sys.isNative){var e=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","SFC_interstitial","(I)I",33);return console.log("interstitial="+e),e}},t.privacy=function(){cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","SFC_privacy","()V")},t.showOpeningAds=function(){cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","SFC_ShowOpeningAds","()V")},t.gamestart=function(e){cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","GoogleStartGame","(Ljava/lang/String;)V",e)},c([s],t)}(cc.Component));i.CJ=l,cc._RF.pop()},{"./GD":"GD"}],CM:[function(e,t,i){"use strict";cc._RF.push(t,"904d9GNkL9LD43gk11XIlFO","CM");var o,n=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),c=function(e,t,i,o){var n,c=arguments.length,a=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(c<3?n(a):c>3?n(t,i,a):n(t,i))||a);return c>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.CM=void 0;var a=e("../sys/audioManager"),r=e("./AR"),s=e("./GD"),l=e("./LS"),d=cc._decorator,u=d.ccclass,p=(d.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var i;return n(t,e),i=t,t.getDisX=function(e,t){return Math.abs(e.position.x-t.position.x)},t.actScaleA=function(e){cc.tween(e).to(.1,{scale:.8}).to(.1,{scale:1.1}).to(.1,{scale:1}).start()},t.collide=function(e,t){return!!e.getBoundingBox().contains(t.getPosition())},t.getAngle=function(e,t,i,o){var n=Math.abs(e-i),c=Math.abs(t-o),a=c/Math.sqrt(Math.pow(n,2)+Math.pow(c,2)),r=Math.acos(a),s=Math.floor(180/(Math.PI/r));return i>e&&o>t&&(s=180-s),i==e&&o>t&&(s=180),i>e&&o==t&&(s=90),i<e&&o>t&&(s=180+s),i<e&&o==t&&(s=270),i<e&&o<t&&(s=360-s),(s+=180)>360&&(s-=360),s},t.getAngleEuler=function(e,t){var i=t.x-e.x,o=t.y-e.y;return-cc.v2(i,o).signAngle(cc.v2(1,0))/Math.PI*180},t.getDisv1=function(e,t){var i=cc.v2(e.x,e.y),o=cc.v2(t.x,t.y);return i.sub(o).mag()},t.getDis=function(e,t){var i=cc.v2(e.x,e.y);return cc.v2(t.x,t.y).subtract(i)},t.getDir=function(e,t){var o=i.getDis(e,t),n=cc.v2(0,0);return n.x=o.x/o.len(),n.y=o.y/o.len(),n},t.getJoyDir=function(e,t){var i=cc.v2(0,0);return e>337.5||e<=22.5?i.y=t:e>22.5&&e<=67.5?(i.y=t,i.x=-t):e>67.5&&e<=112.5?i.x=-t:e>112.5&&e<=157.5?(i.x=-t,i.y=-t):e>157.5&&e<=202.5?i.y=-t:e>202.5&&e<=247.5?(i.x=t,i.y=-t):e>247.5&&e<=292.5?i.x=t:e>292.5&&e<=337.5&&(i.x=t,i.y=t),i},t.ran=function(e,t){return Math.random()*(t-e)+e},t.playBGM=function(e){0!=this.getEffectOpen()&&a.audioManager.playMusic(e)},t.playEffect=function(e){0!=this.getEffectOpen()&&a.audioManager.playEffect(e)},t.stopMusic=function(){a.audioManager.stopMusic()},t.getMusicOpen=function(){var e=l.default.getLocal("MusicOpen");return null==e&&(this.setMusicOpen(!0),e=!0),e},t.setMusicOpen=function(e,t){l.default.setLocal("MusicOpen",e),1==e?i.playBGM(t):this.stopMusic()},t.getHeightScore=function(){var e=l.default.getLocal("HeightScore");return null===e&&(e=0),e},t.setHeightScore=function(e){l.default.setLocal("HeightScore",e)},t.getTotleScore=function(){var e=l.default.getLocal("TotleScore");return null===e&&(e=0),e},t.setTotleScore=function(e){l.default.setLocal("TotleScore",e)},t.getUseSkinLevel=function(){var e=l.default.getLocal("UseSkinLevel");return null===e&&(e=1),e},t.setUseSkinLevel=function(e){l.default.setLocal("UseSkinLevel",e)},t.getNowMaxSkinLevel=function(){var e=l.default.getLocal("NowMaxSkinLevel");return null===e&&(e=1),e},t.setNowMaxSkinLevel=function(e){l.default.setLocal("NowMaxSkinLevel",e)},t.getMaxSkinLevel=function(){var e=l.default.getLocal("MaxSkinLevel");return null===e&&(e=1),e},t.setMaxSkinLevel=function(e){l.default.setLocal("MaxSkinLevel",e)},t.getSkinLock=function(e){var t="SkinLock_"+e,i=l.default.getLocal(t);return null===i&&(i=0,1==e&&(i=1),this.setSkinLock(e,i)),i},t.setSkinLock=function(e,t){var i="SkinLock_"+e;l.default.setLocal(i,t)},t.getEffectOpen=function(){var e=l.default.getLocal("EffectOpen");return null==e&&(this.setEffectOpen(!0),e=!0),e},t.setEffectOpen=function(e){l.default.setLocal("EffectOpen",e)},t.getDailyReward=function(e){var t="DailyReward"+e,i=l.default.getLocal(t);return null==i&&(i=0,this.setDailyReward(e,i)),i},t.setDailyReward=function(e,t){var i="DailyReward"+e;l.default.setLocal(i,t)},t.getDailyRewardDate=function(){var e=l.default.getLocal("DailyRewardDate");return null==e&&(e=0,this.setDailyRewardDate(e)),e},t.setDailyRewardDate=function(e){l.default.setLocal("DailyRewardDate",e)},t.lableAddScore=function(e,t,i){e.node.stopActionByTag(121);var o=cc.delayTime(.01),n=cc.sequence(o,cc.callFunc(function(){t<i?(t<i-1e3&&(t+=300),t<i-200&&(t+=100),t<i-20&&(t+=10),t+=1,e.string=String(t)):t>i+10?(t>i+200&&(t-=100),t>i+20&&(t-=10),t-=1,e.string=String(t)):(e.string=String(i),e.node.stopAllActions())})),c=cc.repeatForever(n);c.setTag(121),e.node.runAction(c)},t.progressBarEffect=function(e,t,i,o){e.node.stopActionByTag(122);var n=cc.delayTime(.01);t>1&&(t=1);var c=cc.callFunc(function(){var n=e.progress;n<t?(n<t-.2&&(n+=.05),n+=.01,e.progress=n,null!=o&&(console.log("progressBarEffect callfun1"),o())):n>t+.1?(n>t+.2&&(n-=.05),n-=.01,e.progress=n,null!=o&&(console.log("progressBarEffect callfun2"),o())):(e.progress=t,e.node.stopActionByTag(122),null!=i&&(console.log("progressBarEffect callfun"),i()),null!=o&&(console.log("progressBarEffect callfun3"),o()))}),a=cc.sequence(n,c),r=cc.repeatForever(a);r.setTag(122),e.node.runAction(r)},t.csv=function(e){console.log("csv to json"),cc.loader.loadRes("csv/"+e,function(t,o){if(t)console.log("err:",t);else{var n=i.CSVToArray(o.text,",",e);"section"===e&&i.CSVFullLevelData(n)}})},t.CSVFullLevelData=function(e){i.LevelDataArray.length=0;for(var t=1;t<e.length;t++)if(Number(e[t][0])&&e[t][0]>1e3&&e[t].length>=7){var o={levelId:e[t][0],stars:[e[t][1],e[t][2],e[t][3]],nextLevel:e[t][4],bubblenum:e[t][5],levelTMX:e[t][6]};i.LevelDataArray.push(o)}},t.CSVToArray=function(e,t,i){t=t||",";for(var o=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]*))","gi"),n=[[]],c=null;c=o.exec(e);){var a=c[1];if(a.length&&a!=t&&n.push([]),c[2])var r=c[2].replace(new RegExp('""',"g"),'"');else r=c[3];if(1===n[n.length-1].length&&"section"===i)for(var s=r.split("|"),l=0;l<s.length;l++)n[n.length-1].push(s[l]);else n[n.length-1].push(r)}return n.length>0&&n.pop(),n},t.getLevelDataByLevelId=function(e){var t={levelId:0,stars:[0,0,0],nextLevel:0,bubblenum:0,levelTMX:""};for(var o in i.LevelDataArray)Number(i.LevelDataArray[o].levelId)===e&&(t=i.LevelDataArray[o]);return t},t.actPop=function(e){2*Math.random()<5?(e.scaleX=0,e.scaleY=0,e.runAction(cc.scaleTo(.28,1).easing(cc.easeBackOut()))):(e.scaleX=0,e.scaleY=0,e.runAction(cc.sequence(cc.scaleTo(.28,1,1.1),cc.scaleTo(.1,1,.9),cc.scaleTo(.1,1,1.05),cc.scaleTo(.1,1,.95),cc.scaleTo(.1,1,1))))},t.JSB=function(e,t,i){if(cc.sys.isNative){if(i)return jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity",e,t,i);var o=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity",e,t);return s.GD.way=o,o}},t.getHasSaveData=function(){var e=l.default.getLocal("HasSaveData");return null==e&&(e=!1,this.setHasSaveData(e)),e},t.setHasSaveData=function(e){l.default.setLocal("HasSaveData",e)},t.getSpRoleId=function(){var e=l.default.getLocal("SpRoleId");return null==e&&(e=-1,this.setSpRoleId(e)),e},t.setSpRoleId=function(e){l.default.setLocal("SpRoleId",e)},t.getCurPlayScore=function(){var e=l.default.getLocal("CurPlayScore");return null==e&&(e=0,this.setCurPlayScore(e)),e},t.setCurPlayScore=function(e){l.default.setLocal("CurPlayScore",e)},t.getNumCount=function(){var e=l.default.getLocal("NumCount");return null==e&&(e=0,this.setNumCount(e)),e},t.setNumCount=function(e){l.default.setLocal("NumCount",e)},t.getTypeList=function(){var e=l.default.getLocal("typelist");return null==e&&(e="",this.setTypeList(e)),e},t.setTypeList=function(e){l.default.setLocal("typelist",e)},t.getNumList=function(){var e=l.default.getLocal("numlist");return null==e&&(e="",this.setNumList(e)),e},t.setNumList=function(e){l.default.setLocal("numlist",e)},t.getPosxList=function(){var e=l.default.getLocal("posxlist");return null==e&&(e="",this.setPosxList(e)),e},t.setPosxList=function(e){l.default.setLocal("posxlist",e)},t.getPosyList=function(){var e=l.default.getLocal("posylist");return null==e&&(e="",this.setPosyList(e)),e},t.setPosyList=function(e){l.default.setLocal("posylist",e)},t.getRotateList=function(){var e=l.default.getLocal("rotatelist");return null==e&&(e="",this.setRotateList(e)),e},t.setRotateList=function(e){l.default.setLocal("rotatelist",e)},t.getLineSpeedxList=function(){var e=l.default.getLocal("linespeedxlist");return null==e&&(e="",this.setLineSpeedxList(e)),e},t.setLineSpeedxList=function(e){l.default.setLocal("linespeedxlist",e)},t.getLineSpeedyList=function(){var e=l.default.getLocal("linespeedylist");return null==e&&(e="",this.setLineSpeedyList(e)),e},t.setLineSpeedyList=function(e){l.default.setLocal("linespeedylist",e)},t.getAngularSpeedList=function(){var e=l.default.getLocal("angularspeedlist");return null==e&&(e="",this.setAngularSpeedList(e)),e},t.setAngularSpeedList=function(e){l.default.setLocal("angularspeedlist",e)},t.BallWidth=0,t.BallHeight=0,t.Bubble_Column=11,t.LevelDataArray=new Array,t.spfFruit=new r.AR(9,11,null),t.spfParticle=new r.AR(9,30,null),i=c([u],t)}(cc.Component));i.CM=p,cc._RF.pop()},{"../sys/audioManager":"audioManager","./AR":"AR","./GD":"GD","./LS":"LS"}],CS:[function(e,t,i){"use strict";cc._RF.push(t,"66bc7dm2dNP0rZm/rKAilRJ","CS");var o=function(e,t,i,o){var n,c=arguments.length,a=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(c<3?n(a):c>3?n(t,i,a):n(t,i))||a);return c>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.CS=void 0;var n,c,a,r,s=cc._decorator,l=s.ccclass;s.property,(r=n||(n={})).FIX_ANM="fix_anm",r.DEL_FURIT="del_furit",r.REWARD_AD_GET="reward_ad_get",r.REWARD_AD_GET2="reward_ad_get2",r.REWARD_AD_FAIL2="reward_ad_fail2",r.REWARD_AD_READY="reward_ad_ready",r.UPDATE_NUM="update_num",r.ADD_ITEM="add_item",r.Fresh_Skin="fresh_skin",r.AdnotYet="AdnotYet",function(e){e.BTNPRESS="btnpress",e.GAMESCORE="gamescore",e.GETSKIN="getskin",e.GOTMELON="gotmelon",e.KNOCK="knock",e.MELONKING="melonking",e.POP="pop",e.WIN="shengli",e.WATER="water",e.CLEAR="xiu",e.FALL="xialuo",e.LVUP1="hecheng1",e.LVUP2="hecheng2",e.BGM="jiubgying"}(c||(c={})),function(e){e.Elimination="elimination",e.Shake="shake",e.Cut="cut"}(a||(a={}));var d=function(){function e(){}return e.eventName=n,e.audioSource=c,e.propType=a,o([l("CS")],e)}();i.CS=d,cc._RF.pop()},{}],GD:[function(e,t,i){"use strict";cc._RF.push(t,"9d655+RsiZCapmXdkNgIDgb","GD");var o,n=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),c=function(e,t,i,o){var n,c=arguments.length,a=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(c<3?n(a):c>3?n(t,i,a):n(t,i))||a);return c>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.GD=void 0;var a=cc._decorator,r=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.totalplay=1,t.ndcanvas=null,t.spScale=[.115,.15,.2,.24,.28,.35,.44,.55,.67,.78,.92],t.bFixlock=!1,t.iScore=0,t.bGameover=!1,t.Badsuceess=!1,t.Badfull=!1,t.Retry=3,t.iSkillcode=0,t.iSkillnum=[0,0,0],t.spValue=[2,4,6,8,10,12,14,16,18,20,24],t.way="",t.dailyRewardArray=["shake","elimination","shake","elimination","shake","elimination","shake"],t.dailyRewardAmount=[2,2,3,3,4,4,5],t.skinsNumber=[1,2,3,4,5,6,7,8,9],t.skinsTotalScore=[20,50,100,200,500,1e3],t.iAdrewardtype=0,t.welcomecount=0,t.hasSaveData=!1,c([r],t)}(cc.Component));i.GD=s,cc._RF.pop()},{}],LS:[function(e,t,i){"use strict";cc._RF.push(t,"63e9czu00ZA9qQie9omqXLQ","LS"),Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(){}return e.getLocal=function(e){var t=cc.sys.localStorage.getItem(e);return t&&""!=t&&null!=typeof t&&(t=JSON.parse(t)).v===this.version?t.data:null},e.setLocal=function(e,t){var i={v:this.version,data:t};return cc.sys.localStorage.setItem(e,JSON.stringify(i))},e.version=10010,e}();i.default=o,cc._RF.pop()},{}],SDK:[function(e,t,i){"use strict";cc._RF.push(t,"4c276HHGehPX4qvpaDaFi38","SDK");var o,n=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),c=function(e,t,i,o){var n,c=arguments.length,a=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(c<3?n(a):c>3?n(t,i,a):n(t,i))||a);return c>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.SDK=void 0;var a=e("./CM"),r=e("./GD"),s=cc._decorator,l=s.ccclass,d=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var i;return n(t,e),i=t,t.captureScreen=function(){var e=cc.director.getScene().getChildByName("Canvas").getChildByName("Main Camera").getComponent(cc.Camera),t=new cc.RenderTexture,o=cc.game._renderContext;t.initWithSize(cc.visibleRect.width,cc.visibleRect.height,o.STENCIL_INDEX8),e.targetTexture=t,e.render();var n=t.readPixels(),c=t.width,s=t.height,l=i.filpYImage(n,c,s);e.targetTexture=null,r.GD.way=a.CM.JSB("SFC_getway","()Ljava/lang/String;"),r.GD.ndcanvas.runAction(cc.sequence(cc.delayTime(.02),cc.callFunc(function(){jsb.saveImageData(l,c,s,r.GD.way)&&a.CM.JSB("SFC_share","(Ljava/lang/String;)I",r.GD.way)})))},t.filpYImage=function(e,t,i){for(var o=new Uint8Array(t*i*4),n=4*t,c=0;c<i;c++)for(var a=(i-1-c)*t*4,r=c*t*4,s=0;s<n;s++)o[r+s]=e[a+s];return o},i=c([l],t)}(cc.Component));i.SDK=d,cc._RF.pop()},{"./CM":"CM","./GD":"GD"}],act:[function(e,t,i){"use strict";cc._RF.push(t,"a302eLKQRtD/bD5+/XtA272","act");var o,n=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),c=function(e,t,i,o){var n,c=arguments.length,a=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(c<3?n(a):c>3?n(t,i,a):n(t,i))||a);return c>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Itype=0,t}return n(t,e),t.prototype.start=function(){0===this.Itype?this.node.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.1,1.1),cc.scaleTo(.1,1),cc.delayTime(1)))):1===this.Itype?this.node.runAction(cc.repeatForever(cc.rotateBy(5,360))):2===this.Itype?this.node.runAction(cc.repeatForever(cc.rotateBy(15,360))):3===this.Itype&&this.node.runAction(cc.repeatForever(cc.sequence(cc.fadeTo(.75,150),cc.fadeTo(.75,255))))},c([s],t.prototype,"Itype",void 0),c([r],t)}(cc.Component);i.default=l,cc._RF.pop()},{}],audioManager:[function(e,t,i){"use strict";cc._RF.push(t,"d493cJBMERPjom1qY5IZ2oo","audioManager");var o=function(e,t,i,o){var n,c=arguments.length,a=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(c<3?n(a):c>3?n(t,i,a):n(t,i))||a);return c>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.audioManager=void 0;var n=cc._decorator,c=n.ccclass,a=(n.property,function(){function e(){}return e.playMusic=function(e){var t="audio/bgm/"+e;cc.loader.loadRes(t,cc.AudioClip,function(e,t){e?console.error("err!"+e):cc.audioEngine.playMusic(t,!0)})},e.stopMusic=function(){cc.audioEngine.stopMusic()},e.playEffect=function(e){var t="audio/sfx/"+e;cc.loader.loadRes(t,cc.AudioClip,function(e,t){e?console.error("err!"+e):cc.audioEngine.playEffect(t,!1)})},o([c],e)}());i.audioManager=a,cc._RF.pop()},{}],dailyreward:[function(e,t,i){"use strict";cc._RF.push(t,"1c36fgmzkZOaZjRaUD2Erdf","dailyreward");var o,n=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),c=function(e,t,i,o){var n,c=arguments.length,a=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(c<3?n(a):c>3?n(t,i,a):n(t,i))||a);return c>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.dailyreward=void 0;var a=e("./common/CJ"),r=e("./common/CM"),s=e("./common/CS"),l=e("./common/GD"),d=e("./sys/decastis"),u=cc._decorator,p=u.ccclass,h=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.NDRewards=[],t.BTClaim=null,t.BTAd=null,t.BTAdNot=null,t.SFProps=[],t.rewardDay=0,t.oneDayMS=864e5,t}return n(t,e),t.prototype.start=function(){d.default.on(s.CS.eventName.REWARD_AD_READY,this.onAdReadyCall,this),d.default.on(s.CS.eventName.REWARD_AD_GET,this.getAdReward,this),this.show()},t.prototype.show=function(){var e=(new Date).getTime()-r.CM.getDailyRewardDate()<=this.oneDayMS,t=!1;if(0==e&&r.CM.getDailyReward(this.NDRewards.length-1)>0)for(var i=0;i<this.NDRewards.length;i++)r.CM.setDailyReward(i,0);for(i=0;i<this.NDRewards.length;i++){var o=r.CM.getDailyReward(i),n=i+1<this.NDRewards.length?r.CM.getDailyReward(i+1):0;o>0?(0==t&&1==e&&n<=0&&(this.rewardDay=i,t=!0),this.RefreshReward(i,!0)):(0==t&&0==e&&n<=0&&(this.rewardDay=i,t=!0),this.RefreshReward(i,!1))}this.NDRewards[this.rewardDay].getChildByName("cur").active=!0,!0===l.GD.Badsuceess?(this.BTAd.node.active=!0,this.BTAdNot.node.active=!1,this.BTAd.node.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.8,1.14,1.14),cc.scaleTo(.8,1,1))))):(this.BTAd.node.active=!1,this.BTAdNot.node.active=!0)},t.prototype.hide=function(){this.node.active=!1},t.prototype.onAdReadyCall=function(){1==this.BTAdNot.node.active&&(this.BTAd.node.active=!0,this.BTAdNot.node.active=!1,this.BTAd.node.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.8,1.14,1.14),cc.scaleTo(.8,1,1)))))},t.prototype.RefreshReward=function(e,t){this.NDRewards[e].getChildByName("reward").getComponent(cc.Sprite).spriteFrame=this.GetNDRewardProp(l.GD.dailyRewardArray[e]),this.NDRewards[e].getChildByName("amount").getComponent(cc.Label).string=""+l.GD.dailyRewardAmount[e],this.NDRewards[e].getChildByName("mask").active=t,this.NDRewards[e].getChildByName("gou").active=t,this.NDRewards[e].getChildByName("cur").active=!1},t.prototype.GetNDRewardProp=function(e){var t=null;switch(e){case s.CS.propType.Elimination:t=this.SFProps[0];break;case s.CS.propType.Shake:t=this.SFProps[1];break;case s.CS.propType.Cut:t=this.SFProps[2]}return t},t.prototype.GetReward=function(e){var t=l.GD.dailyRewardArray[this.rewardDay],i=l.GD.dailyRewardAmount[this.rewardDay]*e;t===s.CS.propType.Elimination?d.default.dispatch(s.CS.eventName.ADD_ITEM,0,i):t===s.CS.propType.Shake?d.default.dispatch(s.CS.eventName.ADD_ITEM,1,i):t===s.CS.propType.Cut&&d.default.dispatch(s.CS.eventName.ADD_ITEM,2,i)},t.prototype.ButtonClick_Claim=function(){var e=this;r.CM.playEffect(s.CS.audioSource.BTNPRESS),this.BTClaim.interactable=!1,this.BTAd.interactable=!1,r.CM.setDailyReward(this.rewardDay,1);var t=(new Date).getTime();r.CM.setDailyRewardDate(t-t%this.oneDayMS),this.GetReward(1),this.NDRewards[this.rewardDay].getChildByName("mask").active=!0,this.NDRewards[this.rewardDay].getChildByName("gou").active=!0,this.NDRewards[this.rewardDay].getChildByName("gou").setScale(cc.Vec2.ZERO),this.NDRewards[this.rewardDay].getChildByName("gou").runAction(cc.sequence(cc.scaleTo(.6,1,1).easing(cc.easeElasticOut(.6)),cc.callFunc(function(){e.hide()})))},t.prototype.ButtonClick_Ad=function(){r.CM.playEffect(s.CS.audioSource.BTNPRESS),this.BTClaim.interactable=!1,this.BTAd.interactable=!1,l.GD.iAdrewardtype=1,a.CJ.reward()},t.prototype.getAdReward=function(){var e=this;if(1===l.GD.iAdrewardtype){r.CM.setDailyReward(this.rewardDay,1);var t=(new Date).getTime();r.CM.setDailyRewardDate(t-t%this.oneDayMS),this.GetReward(2),this.NDRewards[this.rewardDay].getChildByName("mask").active=!0,this.NDRewards[this.rewardDay].getChildByName("gou").active=!0,this.NDRewards[this.rewardDay].getChildByName("gou").setScale(cc.Vec2.ZERO),this.NDRewards[this.rewardDay].getChildByName("gou").runAction(cc.sequence(cc.scaleTo(.6,1,1).easing(cc.easeElasticOut(.6)),cc.callFunc(function(){e.hide()})))}},c([h(cc.Node)],t.prototype,"NDRewards",void 0),c([h(cc.Button)],t.prototype,"BTClaim",void 0),c([h(cc.Button)],t.prototype,"BTAd",void 0),c([h(cc.Button)],t.prototype,"BTAdNot",void 0),c([h(cc.SpriteFrame)],t.prototype,"SFProps",void 0),c([p],t)}(cc.Component);i.dailyreward=f,cc._RF.pop()},{"./common/CJ":"CJ","./common/CM":"CM","./common/CS":"CS","./common/GD":"GD","./sys/decastis":"decastis"}],decastis:[function(e,t,i){"use strict";cc._RF.push(t,"c890cjvKLdD/omGSLzXmSG3","decastis");var o,n=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),c=function(e,t,i,o){var n,c=arguments.length,a=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(c<3?n(a):c>3?n(t,i,a):n(t,i))||a);return c>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.on=function(e,t,i){this.handle[e]||(this.handle[e]=[]);var o={func:t,target:i};this.handle[e].push(o)},t.off=function(e,t,i){var o=this.handle[e];if(o&&!(o.length<=0))for(var n=0;n<o.length;n++){var c=o[n];if(c.func===t&&(!i||i===c.target)){o.splice(n,1);break}}},t.dispatch=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var o=this.handle[e];if(o&&!(o.length<=0))for(var n=0;n<o.length;n++){var c=o[n];c.func.apply(c.target,t)}},t.handle={},c([r],t)}(cc.Component));i.default=s,cc._RF.pop()},{}],demo:[function(e,t,i){"use strict";cc._RF.push(t,"6069aj4pKlFobQ982cWne6u","demo");var o,n=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),c=function(e,t,i,o){var n,c=arguments.length,a=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(c<3?n(a):c>3?n(t,i,a):n(t,i))||a);return c>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iNum=0,t.iType=0,t}return n(t,e),t.prototype.start=function(){this.node.getComponent("role").iNum=this.iNum,this.node.getComponent("role").iType=this.iType,this.node.getComponent("role").bCanfix=!0},c([s],t.prototype,"iNum",void 0),c([s],t.prototype,"iType",void 0),c([r],t)}(cc.Component);i.default=l,cc._RF.pop()},{}],game:[function(e,t,i){"use strict";cc._RF.push(t,"e6285HpaEVJdr9Qqt+kE2us","game");var o,n=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),c=function(e,t,i,o){var n,c=arguments.length,a=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(c<3?n(a):c>3?n(t,i,a):n(t,i))||a);return c>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./common/CM"),r=e("./common/CS"),s=e("./common/GD"),l=e("./common/LS"),d=e("./sys/decastis"),u=e("./sys/audioManager"),p=e("./common/CJ"),h=cc._decorator,f=h.ccclass,g=h.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pbRole=null,t.pbRoleanm=null,t.pbJuice=null,t.ndStage=null,t.ndtips=null,t.ndEffect=null,t.ndWallx=null,t.ndWallup=null,t.spLine=null,t.lbScore=null,t.lbResultScore=null,t.lbHeightScore=null,t.lbPauseHeightScore=null,t.lbOverHeightScore=null,t.lbGameoverScore=null,t.lbRank=null,t.lbmenuscore=null,t.ndPlay=null,t.ndNewGame=null,t.spfSkill=[],t.spfSkillAd=[],t.spfrank=[],t.ndSkill=[],t.ndguide=[],t.ndSkin=null,t.ndShare=null,t.NDad=null,t.NDmenufurits=null,t.spfKnife=null,t.spRole=null,t.iRolecount=0,t.view=null,t.iScore=0,t.iStep=0,t.bCatch=!1,t.bStart=!1,t.bStarcheck=!1,t.iChecktime=0,t.bDeleFurit=!1,t.bSharpFurit=!1,t.bClickRevive=!1,t.maxtype=0,t.aimcode=5,t.tRevivetime=0,t.isrevived=!1,t.isnewgame=!1,t.curLvUpFlag=0,t.roleList=[],t.ndCavasneed=[],t}return n(t,e),t.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=cc.v2(0,-750);var e=cc.director.getCollisionManager();e.enabled=!0,e.enabledDebugDraw=!0,e.enabledDrawBoundingBox=!0;for(var t=0;t<this.ndCavasneed.length;t++)this.ndCavasneed[t].getComponent(cc.Widget).target=s.GD.ndcanvas;cc.director.getPhysicsManager().enabledAccumulator=!0,d.default.on(r.CS.eventName.Fresh_Skin,this.changemenuFurits,this)},t.prototype.start=function(){this.cast(),this.reset(),this.changemenuFurits();for(var e=0;e<80;e++)this.roleList[e]=cc.instantiate(this.pbRole),this.roleList[e].parent=this.ndStage,this.roleList[e]=this.roleList[e],this.roleList[e].active=!1},t.prototype.reset=function(){p.CJ.banner(!0),this.view=cc.director.getWinSize(),s.GD.hasSaveData?(this.ndPlay.active=!0,this.ndNewGame.setPosition(cc.v2(0,this.ndPlay.getPosition().y-150))):(this.ndPlay.active=!1,this.ndNewGame.setPosition(cc.v2(0,this.ndPlay.getPosition().y))),this.ndWallx.setPosition(0,-this.view.height/2-this.ndWallx.height/2+180),this.ndWallup.setPosition(0,this.view.height/2+this.ndWallup.height/2-200),this.node.getChildByName("touch").setContentSize(cc.winSize),this.node.getChildByName("touch").setPosition(cc.v2(0,-80)),this.spLine.setPosition(0,this.view.height/2-280),this.spLine.opacity=255,this.touchOff();var e=a.CM.getHeightScore();e>0?(this.lbmenuscore.node.active=!0,this.lbmenuscore.string=""+e):this.lbmenuscore.node.active=!1},t.prototype.cast=function(){d.default.on(r.CS.eventName.FIX_ANM,this.fixAnimation,this),d.default.on(r.CS.eventName.DEL_FURIT,this.showfurit,this),d.default.on(r.CS.eventName.REWARD_AD_GET,this.getAdreward,this),d.default.on(r.CS.eventName.REWARD_AD_GET2,this.getSpe,this),d.default.on(r.CS.eventName.REWARD_AD_FAIL2,this.unadspe,this),d.default.on(r.CS.eventName.REWARD_AD_READY,this.getAdready,this),d.default.on(r.CS.eventName.UPDATE_NUM,this.checkNum,this),d.default.on(r.CS.eventName.ADD_ITEM,this.addItem,this),d.default.on(r.CS.eventName.AdnotYet,this.showtips,this),cc.sys.os===cc.sys.OS_ANDROID&&cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},t.prototype.showtips=function(){var e=this;this.ndtips.active=!0,this.ndtips.stopAllActions(),this.ndtips.opacity=0,this.ndtips.runAction(cc.sequence(cc.delayTime(.1),cc.fadeIn(.2),cc.delayTime(2),cc.fadeOut(.2),cc.callFunc(function(){e.ndtips.active=!1})))},t.prototype.onKeyDown=function(e){switch(e.keyCode){case cc.macro.KEY.back:!0===this.node.getChildByName("title").active?p.CJ.exit():!0===this.node.getChildByName("pause").active?this.gameresume():!0===this.node.getChildByName("gameover").active||this.gamepause()}},t.prototype.mobSP=function(e){if(!s.GD.bGameover)if(null===this.spRole){for(var t=0;t<this.roleList.length;t++)if(!1===this.roleList[t].active){var i=Math.floor(100*Math.random()),o=0;o=i<20?0:i<40?1:i<60?2:i<82?3:4,-1!=e&&(o=e);var n=cc.instantiate(this.pbRole);n.scale=s.GD.spScale[o],n.getComponent("role").iType=o,n.getComponent("role").iNum=this.iRolecount,n.getComponent("role").bCanfix=!1,n.getComponent("role").istGame=this,n.getComponent("role").collidercount=0,n.getComponent("role").bFirsttouch=!1,n.getComponent("role").bFirstsfx=!1,n.getComponent("role").bCanDel=!1,n.getComponent("role").bFixed=!1,n.getComponent("role").isplayrole=!0,n.getComponent(cc.RigidBody).awake=!1,n.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0),n.getComponent(cc.RigidBody).angularVelocity=0,n.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static,n.getComponent(cc.Sprite).spriteFrame=a.CM.spfFruit.getValue(a.CM.getUseSkinLevel()-1,o);var c=this.view.height/2-200;n.setPosition(cc.v2(0,c)),n.parent=this.ndStage,this.spRole=n,this.iRolecount++,this.touchOn();break}}else this.touchOn()},t.prototype.touchOn=function(){this.node.getChildByName("touch").on(cc.Node.EventType.TOUCH_START,this.tBegin,this),this.node.getChildByName("touch").on(cc.Node.EventType.TOUCH_MOVE,this.tMove,this),this.node.getChildByName("touch").on(cc.Node.EventType.TOUCH_END,this.tEnd,this),this.node.getChildByName("touch").on(cc.Node.EventType.TOUCH_CANCEL,this.tEnd,this)},t.prototype.touchOff=function(){this.node.getChildByName("touch").off(cc.Node.EventType.TOUCH_START,this.tBegin,this),this.node.getChildByName("touch").off(cc.Node.EventType.TOUCH_MOVE,this.tMove,this),this.node.getChildByName("touch").off(cc.Node.EventType.TOUCH_END,this.tEnd,this),this.node.getChildByName("touch").off(cc.Node.EventType.TOUCH_CANCEL,this.tEnd,this)},t.prototype.play=function(){this.isrevived=!1,this.bStart=!0,this.node.getChildByName("title").active=!1,this.spLine.opacity=255,this.isnewgame=!1,a.CM.playEffect(r.CS.audioSource.BTNPRESS);var e=l.default.getLocal("first_guide");a.CM.playBGM(r.CS.audioSource.BGM),null==e?(l.default.setLocal("first_guide",1),this.guide()):this.restart()},t.prototype.newGame=function(){this.bStart=!0,this.node.getChildByName("title").active=!1,this.spLine.opacity=255,this.isrevived=!1,this.isnewgame=!0,a.CM.playEffect(r.CS.audioSource.BTNPRESS),a.CM.playBGM(r.CS.audioSource.BGM),null==l.default.getLocal("first_guide")?(l.default.setLocal("first_guide",1),this.guide()):this.restart()},t.prototype.guide=function(){var e=this;this.node.getChildByName("guide").active=!0,this.node.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){e.guide2()})))},t.prototype.guide2=function(){var e=this;this.node.getChildByName("guide").active=!1,this.node.getChildByName("guide2").active=!0,this.node.runAction(cc.sequence(cc.delayTime(5),cc.callFunc(function(){e.restart()})))},t.prototype.guide3=function(){for(var e=this,t=0;t<this.ndStage.childrenCount;t++)this.ndStage.children[t].active=!1;this.node.getChildByName("guide3").active=!0,this.node.getChildByName("guide3").runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){e.node.getChildByName("guide3").getChildByName("sp").getChildByName("hand").active=!1;var t=e.node.getChildByName("guide3").getChildByName("sp").getChildByName("shake").children;t[0].runAction(cc.repeat(cc.sequence(cc.moveBy(.09,cc.v2(0,28)),cc.moveBy(.09,cc.v2(0,-28))),5)),t[1].runAction(cc.repeat(cc.sequence(cc.moveBy(.06,cc.v2(30,0)),cc.moveBy(.06,cc.v2(-60,0)),cc.moveBy(.06,cc.v2(30,0))),5)),t[2].runAction(cc.repeat(cc.sequence(cc.moveBy(.06,cc.v2(30,0)),cc.moveBy(.06,cc.v2(-60,0)),cc.moveBy(.06,cc.v2(30,0))),5))}),cc.delayTime(3.5),cc.callFunc(function(){e.node.getChildByName("guide3").active=!1;for(var t=0;t<e.ndStage.childrenCount;t++)e.ndStage.children[t].active=!0;e.ndSkill[1].getChildByName("hand").active=!0,e.ndSkill[1].getChildByName("hand").runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){e.ndSkill[1].getChildByName("hand").active=!1})))}))),this.addSkill(1,1)},t.prototype.guide4=function(){for(var e=this,t=0;t<this.ndStage.childrenCount;t++)this.ndStage.children[t].active=!1;this.node.getChildByName("guide4").active=!0,this.node.getChildByName("guide4").runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){e.node.getChildByName("guide4").getChildByName("sp").getChildByName("hand").runAction(cc.moveTo(.25,cc.v2(7,53)));for(var t=0;t<e.node.getChildByName("guide4").getChildByName("sp").getChildByName("stage").childrenCount;t++)e.node.getChildByName("guide4").getChildByName("sp").getChildByName("stage").getChildByName("sp"+t).getChildByName("aim").active=!0}),cc.delayTime(2),cc.callFunc(function(){e.node.getChildByName("guide4").getChildByName("sp").getChildByName("hand").active=!1;var t=e.node.getChildByName("guide4").getChildByName("sp").getChildByName("stage").getChildByName("sp4").getPosition();e.node.getChildByName("guide4").getChildByName("sp").getChildByName("stage").getChildByName("sp4").destroy(),e.showJuice(t,4);for(var i=0;i<e.node.getChildByName("guide4").getChildByName("sp").getChildByName("stage").childrenCount;i++)e.node.getChildByName("guide4").getChildByName("sp").getChildByName("stage").children[i].getChildByName("aim").active=!1}),cc.delayTime(3.5),cc.callFunc(function(){e.node.getChildByName("guide4").active=!1;for(var t=0;t<e.ndStage.childrenCount;t++)e.ndStage.children[t].active=!0;e.ndSkill[0].getChildByName("hand").active=!0,e.ndSkill[0].getChildByName("hand").runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){e.ndSkill[0].getChildByName("hand").active=!1})))}))),this.addSkill(0,1)},t.prototype.showAim=function(){if(this.aimcode<11){a.CM.playEffect(r.CS.audioSource.POP);var e=this.node.getChildByName("aim");e.opacity=0,e.runAction(cc.sequence(cc.fadeIn(.5),cc.delayTime(1),cc.fadeOut(.5))),e.getChildByName("fruit").getComponent(cc.Sprite).spriteFrame=a.CM.spfFruit.getValue(a.CM.getUseSkinLevel()-1,this.aimcode)}},t.prototype.getBigWatermelonTip=function(){var e=this;a.CM.playEffect(r.CS.audioSource.GOTMELON),this.node.getChildByName("get").active=!0,this.node.getChildByName("get").getChildByName("node").getChildByName("sp").getComponent(cc.Sprite).spriteFrame=a.CM.spfFruit.getValue(a.CM.getUseSkinLevel()-1,10),this.node.getChildByName("get").getChildByName("node").getChildByName("sp").runAction(cc.sequence(cc.callFunc(function(){e.node.getChildByName("get").getChildByName("node").getChildByName("lihuaamazing").getComponent(cc.ParticleSystem).resetSystem()}),cc.scaleTo(0,.2,.2),cc.scaleTo(1,1,1).easing(cc.easeElasticOut(.6))))},t.prototype.closeBigWatermelonTip=function(){var e=this;this.node.getChildByName("get").getChildByName("node").getChildByName("sp").stopAllActions(),this.node.getChildByName("get").getChildByName("node").getChildByName("sp").runAction(cc.sequence(cc.scaleTo(.5,.1,.1).easing(cc.easeElasticIn(.6)),cc.callFunc(function(){e.node.getChildByName("get").active=!1})))},t.prototype.tBegin=function(e){if(console.log("this.iStep="+this.iStep),2===this.iStep&&!this.bCatch&&(this.iStep=0,this.bCatch=!0,null!=this.spRole&&!this.spRole.getComponent("role").bFirsttouch)){this.spRole.getComponent("role").bFirsttouch=!0;var t=this.node.getChildByName("touch").convertToNodeSpaceAR(e.getLocation()).x,i=this.spRole.getComponent(cc.PhysicsCircleCollider).radius*this.spRole.scale,o=-cc.winSize.width/2+i,n=cc.winSize.width/2-i;t<o&&(t=o),t>n&&(t=n);var c=cc.moveTo(.1,cc.v2(t,this.spRole.getPosition().y));c.setTag(199),this.spRole.runAction(c)}},t.prototype.tMove=function(e){if(0===this.iStep&&(this.bCatch=!0,null!=this.spRole)){var t=this.node.getChildByName("touch").convertToNodeSpaceAR(e.getLocation()),i=this.spRole.getComponent(cc.PhysicsCircleCollider).radius*this.spRole.scale,o=-cc.winSize.width/2+i,n=cc.winSize.width/2-i;t.x>o&&t.x<n&&(this.spRole.stopActionByTag(199),this.spRole.setPosition(t.x,this.spRole.getPosition().y))}},t.prototype.tEnd=function(){var e=this;this.bCatch&&0===this.iStep&&(this.bCatch=!1,this.iStep=2,null!=this.spRole&&(this.bSharpFurit&&(this.bSharpFurit=!1),a.CM.playEffect(r.CS.audioSource.CLEAR),this.bStarcheck=!0,this.spRole.getComponent(cc.RigidBody).type=cc.RigidBodyType.Dynamic,this.spRole.getComponent(cc.RigidBody).awake=!0,this.spRole.getComponent("role").isplayrole=!1,this.spRole.getComponent("role").bCanfix=!0,s.GD.iScore+=s.GD.spValue[this.spRole.getComponent("role").iType],this.touchOff(),this.spRole=null,this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){e.mobSP(-1),e.checkMix()})))))},t.prototype.checkHandeshake=function(){if(this.ndStage.childrenCount>9)for(var e=5;e<10;e++)this.checkHandeshakenum(e)},t.prototype.checkHandeshakenum=function(e){for(var t=0,i=[],o=0;o<this.ndStage.childrenCount;o++)this.ndStage.children[o].getComponent("role").bFixed&&this.ndStage.children[o].getComponent("role").iType===e&&(i[t]=this.ndStage.children[o].getPosition(),t++);if(t>1)for(var n=0;n<t-1;n++)for(var c=n+1;c<t;c++)if(a.CM.getDisv1(i[n],i[c])-404*s.GD.spScale[e]<25){this.handB();break}},t.prototype.checkHanddelete=function(){for(var e=0;e<this.ndStage.childrenCount;e++)if(this.ndStage.children[e].getComponent("role").bFixed){var t=this.ndStage.children[e].scale,i=this.ndStage.convertToWorldSpaceAR(this.ndStage.children[e].getPosition()).y+t*(this.ndStage.children[e].getContentSize().height/2);if(i>700&&i<1e3){this.handA();break}}},t.prototype.handA=function(){this.node.getChildByName("guide3").active||this.node.getChildByName("guide4").active||null==l.default.getLocal("first_guide4")&&(l.default.setLocal("first_guide4",1),s.GD.bFixlock=!1,this.guide4())},t.prototype.handB=function(){this.node.getChildByName("guide3").active||this.node.getChildByName("guide4").active||null==l.default.getLocal("first_guide3")&&(l.default.setLocal("first_guide3",1),s.GD.bFixlock=!1,this.guide3())},t.prototype.update=function(e){!(this.iScore<s.GD.iScore)||this.node.getChildByName("guide").active||this.node.getChildByName("guide2").active||this.node.getChildByName("guide3").active||this.node.getChildByName("guide4").active||(this.iScore=s.GD.iScore,this.lbScore.string=""+this.iScore),this.bStarcheck&&(this.iChecktime+=e,this.iChecktime>=1&&(this.bStarcheck=!1,this.iChecktime=0))},t.prototype.playLvUpEffect=function(){0===this.curLvUpFlag?(a.CM.playEffect(r.CS.audioSource.LVUP1),this.curLvUpFlag=1):(a.CM.playEffect(r.CS.audioSource.LVUP2),this.curLvUpFlag=0)},t.prototype.fixAnimation=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=cc.instantiate(this.pbRoleanm);o.scale=s.GD.spScale[t[0]],o.getComponent(cc.Sprite).spriteFrame=a.CM.spfFruit.getValue(a.CM.getUseSkinLevel()-1,t[0]),o.setPosition(t[2]),o.parent=this.ndEffect,o.angle=t[1],this.node.getChildByName("guide").active||this.node.getChildByName("guide2").active||this.node.getChildByName("guide3").active||this.node.getChildByName("guide4").active||t[0]+1>this.maxtype&&(this.maxtype=t[0]+1),o.runAction(cc.sequence(cc.spawn(cc.moveTo(.12,t[3]),cc.scaleTo(.12,.1)),cc.delayTime(.13),cc.callFunc(function(){o.destroy(),e.showJuice(t[3],t[0])}))),this.node.runAction(cc.sequence(cc.delayTime(.75),cc.callFunc(function(){})))},t.prototype.checkAd=function(e){s.GD.iSkillnum[e]>0?(this.ndSkill[e].getChildByName("ad").active=!1,this.skillEnable(e)):s.GD.iSkillnum[e]},t.prototype.checkNum=function(){this.freshnum(0),this.freshnum(1),this.freshnum(2),l.default.setLocal("skill0_num",s.GD.iSkillnum[0]),l.default.setLocal("skill1_num",s.GD.iSkillnum[1]),l.default.setLocal("skill2_num",s.GD.iSkillnum[2]),this.getAdready()},t.prototype.freshnum=function(e){this.ndSkill[e].getChildByName("p").active=!0,s.GD.iSkillnum[e]>0?(this.ndSkill[e].getChildByName("lb").getComponent(cc.Label).string=s.GD.iSkillnum[e]+"",this.ndSkill[e].getChildByName("lb").active=!0,this.ndSkill[e].getChildByName("ad").active=!1):(this.ndSkill[e].getChildByName("lb").active=!1,this.ndSkill[e].getChildByName("ad").active=!0)},t.prototype.checkAim=function(){this.maxtype>=this.aimcode&&this.aimcode<10&&this.showAimok()},t.prototype.showAimok=function(){this.node.getChildByName("guide").active||this.node.getChildByName("guide2").active||this.node.getChildByName("guide3").active||this.node.getChildByName("guide4").active||(this.node.getChildByName("aimok").getChildByName("sp").getChildByName("fruit").getComponent(cc.Sprite).spriteFrame=a.CM.spfFruit.getValue(a.CM.getUseSkinLevel()-1,this.aimcode),this.node.getChildByName("aimok").getChildByName("sp").getChildByName("score").getComponent(cc.Label).string=s.GD.iScore+"",s.GD.Badsuceess?(this.node.getChildByName("aimok").getChildByName("sp").getChildByName("get").active=!0,this.node.getChildByName("aimok").getChildByName("sp").getChildByName("get2").active=!1):(this.node.getChildByName("aimok").getChildByName("sp").getChildByName("get").active=!1,this.node.getChildByName("aimok").getChildByName("sp").getChildByName("get2").active=!0),this.node.getChildByName("aimok").active=!0)},t.prototype.aimOk=function(){a.CM.playEffect(r.CS.audioSource.BTNPRESS),this.node.getChildByName("aimok").active=!1,this.aimcode++,this.aimcode<11&&this.showAim()},t.prototype.aimOkad=function(){a.CM.playEffect(r.CS.audioSource.BTNPRESS),s.GD.iAdrewardtype=3,p.CJ.reward()},t.prototype.useSkill0=function(){a.CM.playEffect(r.CS.audioSource.BTNPRESS),s.GD.iSkillcode=0,s.GD.iSkillnum[s.GD.iSkillcode]>0?this.showdelbtn():(s.GD.iAdrewardtype=0,p.CJ.reward())},t.prototype.useSkill1=function(){a.CM.playEffect(r.CS.audioSource.BTNPRESS),this.bDeleFurit||(s.GD.iSkillcode=1,s.GD.iSkillnum[s.GD.iSkillcode]>0?this.shaking(0):(s.GD.iAdrewardtype=0,p.CJ.reward()))},t.prototype.useSkill2=function(){a.CM.playEffect(r.CS.audioSource.BTNPRESS),this.bSharpFurit||(s.GD.iSkillcode=2,s.GD.iSkillnum[s.GD.iSkillcode]>0?this.sharping():(s.GD.iAdrewardtype=0,p.CJ.reward()))},t.prototype.shaking=function(e){var t=this;this.node.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(){var e=t.node.getChildByName("shake").children;e[0].runAction(cc.repeat(cc.sequence(cc.moveBy(.09,cc.v2(0,42)),cc.moveBy(.09,cc.v2(0,-42))),5)),e[1].runAction(cc.repeat(cc.sequence(cc.moveBy(.06,cc.v2(45,0)),cc.moveBy(.06,cc.v2(-90,0)),cc.moveBy(.06,cc.v2(45,0))),5)),e[2].runAction(cc.repeat(cc.sequence(cc.moveBy(.06,cc.v2(45,0)),cc.moveBy(.06,cc.v2(-90,0)),cc.moveBy(.06,cc.v2(45,0))),5))}),cc.delayTime(1.5),cc.callFunc(function(){t.isrevived?t.isrevived=!1:t.checkgameOVer()}))),s.GD.iSkillnum[s.GD.iSkillcode]--,this.checkNum()},t.prototype.showdelbtn=function(){this.ndStage.childrenCount>1&&!this.bDeleFurit&&this.maxtype>2&&(this.bDeleFurit=!0,this.showfurit(this.bDeleFurit),s.GD.iSkillnum[s.GD.iSkillcode]--,this.checkNum())},t.prototype.sharping=function(){this.bSharpFurit=!0,this.spRole.getChildByName("knife").active=!0,this.spRole.getComponent(cc.Sprite).spriteFrame=null,this.spRole.group="sharp",this.spRole.scale=.5,this.spRole.getComponent(cc.PhysicsCircleCollider).radius=50,this.spRole.getComponent(cc.PhysicsCircleCollider).sensor=!0,this.spRole.getComponent(cc.PhysicsCircleCollider).apply(),s.GD.iSkillnum[s.GD.iSkillcode]--,this.checkNum()},t.prototype.showfurit=function(e){this.bDeleFurit=e,this.node.getChildByName("touch").active=!e;for(var t=0;t<this.ndStage.childrenCount;t++)this.ndStage.children[t].getComponent("role").iType<7&&this.ndStage.children[t].getComponent("role").showDelAni(e);this.spRole.getComponent("role").showDelAni(!1)},t.prototype.getAdready=function(){this.checkAd(0),this.checkAd(1),this.checkAd(2),this.node.getChildByName("aimok").active&&(s.GD.Badsuceess?(this.node.getChildByName("aimok").getChildByName("sp").getChildByName("get").active=!0,this.node.getChildByName("aimok").getChildByName("sp").getChildByName("get2").active=!1):(this.node.getChildByName("aimok").getChildByName("sp").getChildByName("get").active=!1,this.node.getChildByName("aimok").getChildByName("sp").getChildByName("get2").active=!0))},t.prototype.getAdreward=function(){var e=this;0===s.GD.iAdrewardtype?this.addSkill(s.GD.iSkillcode,1):2===s.GD.iAdrewardtype?this.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){e.gamerevive()}))):3===s.GD.iAdrewardtype&&(this.addSkill(0,2),this.aimOk())},t.prototype.addItem=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.addSkill(e[0],e[1])},t.prototype.addSkill=function(e,t){s.GD.iSkillnum[e]+=t,this.checkNum()},t.prototype.skillDisable=function(e){this.ndSkill[e].getComponent(cc.Button).enabled=!1},t.prototype.skillEnable=function(e){this.ndSkill[e].getComponent(cc.Button).enabled=!0},t.prototype.checkgameOVer=function(){var e=this;if(!0!==s.GD.bGameover){for(var t=0,i=0;i<this.ndStage.childrenCount;i++)if(console.log("======checkgameOVer=====",this.ndStage.children[i].getComponent("role").bFixed,this.ndStage.children[i].active,this.ndStage.children[i].getComponent("role").collidercount),this.ndStage.children[i].getComponent("role").bFixed&&!0===this.ndStage.children[i].active&&this.ndStage.children[i].getComponent("role").collidercount>0){var o=this.ndStage.children[i].scale,n=this.ndStage.children[i].parent.convertToWorldSpaceAR(this.ndStage.children[i].getPosition()).y+o*(this.ndStage.children[i].getContentSize().height/2);t<n&&(t=n),this.ndStage.children[i].getComponent("role").iType>this.maxtype&&(this.maxtype=this.ndStage.children[i].getComponent("role").iType)}var c=this.spLine.parent.convertToWorldSpaceAR(this.spLine.getPosition()),a=c.y-t-0;console.log("===========",a,t,c),a<=0&&(this.spLine.stopAllActions(),this.spLine.opacity=255,s.GD.bGameover=!0,this.pause(),this.touchOff(),this.spLine.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){!0!==e.node.getChildByName("gameover").active&&e.gameover()}))))}},t.prototype.gamepause=function(){a.CM.playEffect(r.CS.audioSource.BTNPRESS),this.pause();var e=Number(a.CM.getHeightScore());this.iScore>e&&(e=this.iScore),this.lbPauseHeightScore.string="Best Score: "+e,this.node.getChildByName("pause").active=!0},t.prototype.gameresume=function(){a.CM.playEffect(r.CS.audioSource.BTNPRESS),cc.director.getPhysicsManager().enabled=!0,this.node.getChildByName("pause").active=!1},t.prototype.gamehome=function(){a.CM.playEffect(r.CS.audioSource.BTNPRESS);var e=Number(a.CM.getHeightScore());s.GD.iScore>e&&(e=s.GD.iScore,a.CM.setHeightScore(e)),this.saveallFurit();for(var t=0;t<this.ndEffect.childrenCount;t++)this.ndEffect.children[t].stopAllActions(),this.ndEffect.children[t].active=!1;this.node.stopAllActions(),a.CM.stopMusic(),this.title()},t.prototype.gameover=function(){var e=Number(a.CM.getHeightScore());this.iScore>e&&(e=this.iScore,a.CM.setHeightScore(e)),this.lbOverHeightScore.string="Best Score: "+e,this.lbGameoverScore.string=""+this.iScore,this.bClickRevive=!1,this.node.getChildByName("gameover").active=!0},t.prototype.pause=function(){cc.director.getPhysicsManager().enabled=!1},t.prototype.showSelectSkin=function(){a.CM.playEffect(r.CS.audioSource.BTNPRESS),this.lbResultScore.node.parent.getChildByName("skinBtn").getChildByName("tips").active=!1,this.node.getChildByName("selectskin").active=!0,this.node.getChildByName("selectskin").getComponent("selectskin").show()},t.prototype.showReviveBar=function(){this.bClickRevive=!1,this.node.getChildByName("revivenode").getChildByName("revivebar").getComponent(cc.ProgressBar).progress=1,this.node.getChildByName("revivenode").active=!0,this.tRevivetime=5},t.prototype.BT_giftwall=function(){a.CM.playEffect(r.CS.audioSource.BTNPRESS),this.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){p.CJ.giftwall()})))},t.prototype.btgamerevive=function(){var e=this;a.CM.playEffect(r.CS.audioSource.BTNPRESS),this.bClickRevive||(this.bClickRevive=!0,s.GD.iAdrewardtype=2,p.CJ.reward(),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){e.bClickRevive=!1}))))},t.prototype.gamerevive=function(){this.isrevived=!0,cc.director.getPhysicsManager().enabled=!0,this.node.getChildByName("gameover").active=!1,s.GD.bGameover=!1,this.reviveclearFruit(),this.mobSP(-1),this.shaking(.1)},t.prototype.reviveclearFruit=function(){for(var e=0;e<this.ndStage.childrenCount;e++)!0===this.ndStage.children[e].active&&(console.log("=========",this.ndStage.children[e].getComponent("role").iType,this.ndStage.children[e].getComponent("role").isplayrole),this.ndStage.children[e].getComponent("role").iType<=1&&!1===this.ndStage.children[e].getComponent("role").isplayrole&&(this.ndStage.children[e].active=!1))},t.prototype.closerevive=function(){a.CM.playEffect(r.CS.audioSource.BTNPRESS),this.tRevivetime=0,this.node.getChildByName("revivenode").active=!1,this.gamelose()},t.prototype.gamelose=function(){var e=this;this.node.runAction(cc.sequence(cc.delayTime(.15*this.ndStage.childrenCount),cc.callFunc(function(){e.lbResultScore.string=""+e.iScore;var t=Number(a.CM.getHeightScore());e.iScore>t&&(t=e.iScore,a.CM.setHeightScore(t));var i=e.getrankpercent(e.iScore),o=e.getrankpercent(t);i>=99?(a.CM.playEffect(r.CS.audioSource.GAMESCORE),e.lbResultScore.node.parent.getChildByName("spking").active=!0,e.lbResultScore.node.parent.getChildByName("sprank").active=!1,e.lbRank.node.active=!1):(a.CM.playEffect(r.CS.audioSource.MELONKING),e.lbResultScore.node.parent.getChildByName("spking").active=!1,e.lbResultScore.node.parent.getChildByName("sprank").active=!0,e.lbRank.node.active=!0,e.lbRank.string=i+"%");var n=0;o>=99?n=3:o>=95?n=2:o>=80&&(n=1),e.lbHeightScore.node.getChildByName("spCrown").getComponent(cc.Sprite).spriteFrame=e.spfrank[n],e.lbHeightScore.string=""+t,a.CM.setTotleScore(a.CM.getTotleScore()+e.iScore),e.lbResultScore.node.parent.getChildByName("skinBtn").getChildByName("tips").active=!1,a.CM.playEffect(r.CS.audioSource.WIN),e.node.getChildByName("win").active=!0}))),this.gameloseAni()},t.prototype.crownAni=function(){var e=this,t=this.lbResultScore.node.parent.getChildByName("spking").getChildByName("spCrown").rotation,i=cc.repeatForever(cc.sequence(cc.rotateBy(.1,10),cc.rotateBy(.2,-20),cc.rotateBy(.1,10)));this.lbResultScore.node.parent.getChildByName("spking").getChildByName("spCrown").runAction(i),setTimeout(function(){e.lbResultScore.node.parent.getChildByName("spking").getChildByName("spCrown").stopAction(i),e.lbResultScore.node.parent.getChildByName("spking").getChildByName("spCrown").runAction(cc.rotateTo(.1,t))},1e3)},t.prototype.getrankpercent=function(e){var t=1;return e>=3e3?t=99:e>=2200?t=95+Math.floor((e-2200)/200):e>=1800?t=90+Math.floor((e-1800)/80):e>=1600?t=80+Math.floor((e-1600)/20):e>=1400?t=70+Math.floor((e-1400)/20):e>=1200?t=60+Math.floor((e-1200)/20):e>=1e3?t=50+Math.floor((e-1e3)/20):e>=800?t=30+Math.floor((e-800)/10):e>=700?t=20+Math.floor((e-700)/10):e>=600?t=10+Math.floor((e-600)/10):e>=500&&(t=1+Math.floor((e-500)/10)),t},t.prototype.getskinlevel=function(){var e=1;return a.CM.getTotleScore()>s.GD.skinsTotalScore[5]?e=6:a.CM.getTotleScore()>s.GD.skinsTotalScore[4]?e=5:a.CM.getTotleScore()>s.GD.skinsTotalScore[3]?e=4:a.CM.getTotleScore()>s.GD.skinsTotalScore[2]?e=3:a.CM.getTotleScore()>s.GD.skinsTotalScore[1]&&(e=2),e},t.prototype.ranknumAni=function(e){var t=this;this.lbRank.node.stopActionByTag(121);var i=cc.delayTime(.01),o=0,n=cc.sequence(i,cc.callFunc(function(){if(o<e)o<e-30&&(o+=12),o<e-12&&(o+=4),o+=1,t.lbRank.string=o+"%";else if(o>e+10)o>e+20&&(o-=10),o>e+5&&(o-=1),o-=1,t.lbRank.string=o+"%";else{t.lbRank.string=e+"%",t.lbRank.node.stopAllActions();var i=cc.sequence(cc.scaleTo(.3,1.5),cc.scaleTo(.3,1),cc.scaleTo(.3,1.5),cc.scaleTo(.3,1),cc.scaleTo(.3,1.5),cc.scaleTo(.3,1));t.lbRank.node.runAction(i)}})),c=cc.repeatForever(n);c.setTag(121),this.lbRank.node.runAction(c)},t.prototype.gameloseAni=function(){for(var e=this,t=new Array,i=new Array,o=0;o<this.ndStage.childrenCount;o++)i.push(o);for(o=0;o<this.ndStage.childrenCount;o++){for(var n=this.ndStage.children[i[0]],c=0,a=0;a<i.length;a++)n.getPosition().y<this.ndStage.children[i[a]].getPosition().y&&(n=this.ndStage.children[i[a]],c=a);t.push(n),i.splice(c,1),n=this.ndStage.children[i[0]]}var s=function(i){l.node.runAction(cc.sequence(cc.delayTime(.1*i),cc.callFunc(function(){u.audioManager.playEffect(r.CS.audioSource.WATER),e.showJuice(t[i].getPosition(),t[i].getComponent("role").iType),t[i].destroy()})))},l=this;for(o=0;o<t.length;o++)s(o)},t.prototype.linewarnanim=function(){this.spLine.runAction(cc.sequence(cc.fadeIn(.3),cc.fadeOut(.1),cc.delayTime(.1),cc.fadeIn(.3),cc.fadeOut(.1),cc.delayTime(.1),cc.fadeIn(.3),cc.fadeOut(.1)))},t.prototype.btn_ClickRestart=function(){this.isnewgame=!0,this.restart()},t.prototype.restart=function(){a.CM.playEffect(r.CS.audioSource.BTNPRESS),p.CJ.welcome(),this.curLvUpFlag=0,this.isrevived=!1,this.spRole=null,s.GD.iScore=0,this.maxtype=0,this.iScore=0,this.lbScore.string=""+this.iScore,this.ndStage.removeAllChildren(),this.ndEffect.removeAllChildren(),this.spLine.opacity=255,this.node.getChildByName("win").stopAllActions(),this.node.getChildByName("win").active=!1,this.node.getChildByName("gameover").active=!1,this.ndSkin.active=!1,this.ndSkill[0].active=!1,this.ndSkill[1].active=!0,this.ndSkill[2].active=!1,this.touchOn(),this.node.getChildByName("guide2").active=!1,cc.director.getPhysicsManager().enabled=!0,this.iStep=2,this.bCatch=!1,this.checkNum(),null==l.default.getLocal("first_ad")?(l.default.setLocal("first_ad",1),this.aimcode=4):this.aimcode=6,s.GD.bGameover=!1,s.GD.bFixlock=!1,this.isnewgame&&this.clearSaveData(),this.loadDataToMap(),this.showAim()},t.prototype.title=function(){s.GD.iScore=0,this.iScore=0,this.lbScore.string=""+this.iScore;for(var e=0;e<this.roleList.length;e++)this.roleList[e].active=!1;this.spLine.opacity=255,this.node.getChildByName("win").active=!1,this.node.getChildByName("title").active=!0,s.GD.hasSaveData?(this.ndPlay.active=!0,this.ndNewGame.setPosition(cc.v2(0,this.ndPlay.getPosition().y-150))):(this.ndPlay.active=!1,this.ndNewGame.setPosition(cc.v2(0,this.ndPlay.getPosition().y))),this.node.getChildByName("pause").active=!1,this.ndSkill[0].getChildByName("lb").getComponent(cc.Label).string="",this.ndSkill[1].getChildByName("lb").getComponent(cc.Label).string="",this.ndSkill[2].getChildByName("lb").getComponent(cc.Label).string="",this.ndSkill[0].getChildByName("p").active=!1,this.ndSkill[1].getChildByName("p").active=!1,this.ndSkill[2].getChildByName("p").active=!1,this.ndSkin.active=!0,this.bStart=!1;var t=a.CM.getHeightScore();t>0?(this.lbmenuscore.node.active=!0,this.lbmenuscore.string=""+t):this.lbmenuscore.node.active=!1,this.touchOn()},t.prototype.changemenuFurits=function(){for(var e=0;e<this.NDmenufurits.childrenCount;e++){var t=this.NDmenufurits.children[e].getComponent(cc.Sprite).spriteFrame.name,i=Number(t.split("_")[2]);this.NDmenufurits.children[e].getComponent(cc.Sprite).spriteFrame=a.CM.spfFruit.getValue(a.CM.getUseSkinLevel()-1,i-1)}for(e=0;e<this.ndStage.childrenCount;e++)this.ndStage.children[e]&&(t=this.ndStage.children[e].getComponent(cc.Sprite).spriteFrame.name,i=Number(t.split("_")[2]),this.ndStage.children[e].getComponent(cc.Sprite).spriteFrame=a.CM.spfFruit.getValue(a.CM.getUseSkinLevel()-1,i-1));for(e=0;e<this.ndguide.length;e++)for(var o=this.ndguide[e].getChildByName("sp").getChildByName("stage").childrenCount,n=0;n<o;n++)t=this.ndguide[e].getChildByName("sp").getChildByName("stage").children[n].getComponent(cc.Sprite).spriteFrame.name,i=Number(t.split("_")[2]),this.ndguide[e].getChildByName("sp").getChildByName("stage").children[n].getComponent(cc.Sprite).spriteFrame=a.CM.spfFruit.getValue(a.CM.getUseSkinLevel()-1,i-1)},t.prototype.showJuice=function(e,t){var i=++t;t>i&&(i=9);for(var o=404*s.GD.spScale[i],n=a.CM.getUseSkinLevel(),c=function(){var t=new cc.Node("Sprite"),c=t.addComponent(cc.Sprite),s=a.CM.spfParticle.getValue(n-1,i);c.spriteFrame=s,t.parent=r.ndEffect;var l=359*Math.random(),d=30*Math.random()+o/2,u=cc.v2(Math.sin(l*Math.PI/180)*d,Math.cos(l*Math.PI/180)*d);t.scale=.5*Math.random()+o/100;var p=.5*Math.random();t.position=e,t.runAction(cc.sequence(cc.spawn(cc.moveBy(p,u),cc.scaleTo(p+.5,.3),cc.rotateBy(p+.5,r.RandomInteger(-360,360))),cc.fadeOut(.1),cc.callFunc(function(){t.destroy()},r)))},r=this,l=0;l<10;++l)c();for(var d=function(){var t=new cc.Node("Sprite"),c=t.addComponent(cc.Sprite),r=a.CM.spfParticle.getValue(n-1,i+20);c.spriteFrame=r,t.parent=u.ndEffect;var s=359*Math.random(),l=30*Math.random()+o/2,d=cc.v2(Math.sin(s*Math.PI/180)*l,Math.cos(s*Math.PI/180)*l);t.scale=.5*Math.random()+o/100;var p=.5*Math.random();t.position=e,t.runAction(cc.sequence(cc.spawn(cc.moveBy(p,d),cc.scaleTo(p+.5,.3)),cc.fadeOut(.1),cc.callFunc(function(){t.destroy()},u)))},u=this,p=0;p<20;p++)d();var h=new cc.Node("Sprite"),f=h.addComponent(cc.Sprite),g=a.CM.spfParticle.getValue(n-1,i+10);f.spriteFrame=g,h.parent=this.ndEffect,h.position=e,h.scale=0,h.angle=this.RandomInteger(0,360),h.runAction(cc.sequence(cc.spawn(cc.scaleTo(.2,o/150),cc.fadeOut(1)),cc.callFunc(function(){h.active=!1})))},t.prototype.RandomInteger=function(e,t){return Math.floor(Math.random()*(t-e)+e)},t.prototype.jietu=function(){a.CM.playEffect(r.CS.audioSource.BTNPRESS),p.CJ.rateus()},t.prototype.checkMix=function(){var e=this;this.node.getChildByName("guide").active||this.node.getChildByName("guide2").active||this.node.getChildByName("guide3").active||this.node.getChildByName("guide4").active||this.node.runAction(cc.sequence(cc.delayTime(2.5),cc.callFunc(function(){e.checkgameOVer()})))},t.prototype.adspe=function(){var e=this;this.NDad.active=!0,this.NDad.scale=0,this.NDad.stopAllActions(),this.NDad.runAction(cc.scaleTo(.25,1).easing(cc.easeBackOut()));var t=5;this.NDad.getChildByName("lb").getComponent(cc.Label).string=t+"...",this.NDad.runAction(cc.repeat(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t--,e.NDad.getChildByName("lb").getComponent(cc.Label).string=t+"...",0==t&&p.CJ.interstitial()})),5))},t.prototype.getSpe=function(){var e=this;this.unadspe(),this.addSkill(0,2),this.ndSkill[0].runAction(cc.sequence(cc.scaleTo(.25,.68),cc.scaleTo(.25,.6),cc.scaleTo(.25,.68),cc.scaleTo(.25,.6),cc.scaleTo(.25,.68),cc.scaleTo(.25,.6))),this.ndSkill[2].runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){e.addSkill(2,3)}),cc.scaleTo(.25,.68),cc.scaleTo(.25,.6),cc.scaleTo(.25,.68),cc.scaleTo(.25,.6),cc.scaleTo(.25,.68),cc.scaleTo(.25,.6)))},t.prototype.unadspe=function(){this.NDad.active=!1},t.prototype.saveallFurit=function(){a.CM.setCurPlayScore(s.GD.iScore),null!=this.spRole?a.CM.setSpRoleId(this.spRole.getComponent("role").iType):a.CM.setSpRoleId(-1),a.CM.setNumCount(this.iRolecount);for(var e=[],t=[],i=[],o=[],n=[],c=[],r=[],l=[],d=0,u=0;u<this.ndStage.childrenCount;u++)if(this.ndStage.children[u].active&&this.ndStage.children[u].getComponent("role").bCanfix){var p=this.ndStage.children[u].getComponent("role").iType,h=this.ndStage.children[u].getComponent("role").iNum,f=this.ndStage.children[u].getPosition(),g=this.ndStage.children[u].angle,y=this.ndStage.children[u].getComponent("role")._rigidBody.linearVelocity,m=this.ndStage.children[u].getComponent("role")._rigidBody.angularVelocity;e[d]=p,t[d]=h,i[d]=f.x,o[d]=f.y,n[d]=g,c[d]=y.x,r[d]=y.y,l[d]=m,d++}var v=this.numlistToString(e),C=this.numlistToString(t),S=this.numlistToString(i),N=this.numlistToString(o),D=this.numlistToString(n),B=this.numlistToString(c),_=this.numlistToString(r),R=this.numlistToString(l);a.CM.setTypeList(v),a.CM.setNumList(C),a.CM.setPosxList(S),a.CM.setPosyList(N),a.CM.setRotateList(D),a.CM.setLineSpeedxList(B),a.CM.setLineSpeedyList(_),a.CM.setAngularSpeedList(R),null===this.spRole&&0===e.length?(s.GD.hasSaveData=!1,a.CM.setHasSaveData(s.GD.hasSaveData)):(s.GD.hasSaveData=!0,a.CM.setHasSaveData(s.GD.hasSaveData))},t.prototype.numlistToString=function(e){for(var t="",i=0;i<e.length;i++)i!=e.length-1?t+=e[i].toString()+"|":t+=e[i].toString();return t},t.prototype.stringToNum=function(e){for(var t=e.split("|"),i=[],o=0;o<t.length;o++)i[o]=Number(t[o]);return i},t.prototype.loadDataToMap=function(){var e=a.CM.getTypeList();if(""!==e){this.iRolecount=a.CM.getNumCount()+1;var t=a.CM.getSpRoleId();this.mobSP(t),a.CM.setNumCount(this.iRolecount);var i=a.CM.getNumList(),o=a.CM.getRotateList(),n=a.CM.getPosxList(),c=a.CM.getPosyList(),r=a.CM.getLineSpeedxList(),l=a.CM.getLineSpeedyList(),d=a.CM.getAngularSpeedList(),u=this.stringToNum(e),p=this.stringToNum(i),h=this.stringToNum(o),f=this.stringToNum(n),g=this.stringToNum(c),y=this.stringToNum(r),m=this.stringToNum(l),v=this.stringToNum(d);if(u.length===h.length&&h.length===p.length&&p.length===h.length&&h.length===f.length&&f.length===g.length&&g.length===y.length&&y.length===m.length&&m.length===v.length){s.GD.iScore=a.CM.getCurPlayScore();for(var C=0;C<u.length;C++)this.freshstageChild(u[C],p[C],cc.v2(f[C],g[C]),h[C],cc.v2(y[C],m[C]),v[C])}else this.clearSaveData()}else this.clearSaveData(),this.mobSP(-1)},t.prototype.clearSaveData=function(){s.GD.iScore=0,this.iScore=0,this.iRolecount=0,a.CM.setNumCount(this.iRolecount),a.CM.setCurPlayScore(0),a.CM.setSpRoleId(-1),a.CM.setNumCount(0),a.CM.setTypeList(""),a.CM.setNumList(""),a.CM.setPosxList(""),a.CM.setPosyList(""),a.CM.setLineSpeedxList(""),a.CM.setLineSpeedyList(""),a.CM.setRotateList(""),a.CM.setAngularSpeedList(""),s.GD.hasSaveData=!1,a.CM.setHasSaveData(s.GD.hasSaveData)},t.prototype.freshstageChild=function(e,t,i,o,n,c){for(var r=0;r<this.roleList.length;r++)if(!1===this.roleList[r].active){this.roleList[r].active=!0;var l=this.roleList[r];l.scale=s.GD.spScale[e],l.getComponent("role").iType=e,l.getComponent("role").iNum=t,l.getComponent("role").istGame=this,l.getComponent("role").collidercount=1,l.getComponent("role").bFirsttouch=!0,l.getComponent("role").bCanfix=!0,l.getComponent("role").bFirstsfx=!1,l.angle=o,l.getComponent(cc.Sprite).spriteFrame=a.CM.spfFruit.getValue(a.CM.getUseSkinLevel()-1,e),l.setPosition(i),l.parent=this.ndStage,l.getComponent("role").bFixed=!1,l.getComponent(cc.RigidBody).type=cc.RigidBodyType.Dynamic,l.getComponent(cc.RigidBody).awake=!0,l.getComponent(cc.RigidBody).linearVelocity=n,l.getComponent(cc.RigidBody).angularVelocity=c,l.getComponent("role").isplayrole=!1;break}},c([g(cc.Prefab)],t.prototype,"pbRole",void 0),c([g(cc.Prefab)],t.prototype,"pbRoleanm",void 0),c([g(cc.Prefab)],t.prototype,"pbJuice",void 0),c([g(cc.Node)],t.prototype,"ndStage",void 0),c([g(cc.Node)],t.prototype,"ndtips",void 0),c([g(cc.Node)],t.prototype,"ndEffect",void 0),c([g(cc.Node)],t.prototype,"ndWallx",void 0),c([g(cc.Node)],t.prototype,"ndWallup",void 0),c([g(cc.Node)],t.prototype,"spLine",void 0),c([g(cc.Label)],t.prototype,"lbScore",void 0),c([g(cc.Label)],t.prototype,"lbResultScore",void 0),c([g(cc.Label)],t.prototype,"lbHeightScore",void 0),c([g(cc.Label)],t.prototype,"lbPauseHeightScore",void 0),c([g(cc.Label)],t.prototype,"lbOverHeightScore",void 0),c([g(cc.Label)],t.prototype,"lbGameoverScore",void 0),c([g(cc.Label)],t.prototype,"lbRank",void 0),c([g(cc.Label)],t.prototype,"lbmenuscore",void 0),c([g(cc.Node)],t.prototype,"ndPlay",void 0),c([g(cc.Node)],t.prototype,"ndNewGame",void 0),c([g(cc.SpriteFrame)],t.prototype,"spfSkill",void 0),c([g(cc.SpriteFrame)],t.prototype,"spfSkillAd",void 0),c([g(cc.SpriteFrame)],t.prototype,"spfrank",void 0),c([g(cc.Node)],t.prototype,"ndSkill",void 0),c([g(cc.Node)],t.prototype,"ndguide",void 0),c([g(cc.Node)],t.prototype,"ndSkin",void 0),c([g(cc.Node)],t.prototype,"ndShare",void 0),c([g(cc.Node)],t.prototype,"NDad",void 0),c([g(cc.Node)],t.prototype,"NDmenufurits",void 0),c([g(cc.SpriteFrame)],t.prototype,"spfKnife",void 0),c([g(cc.Node)],t.prototype,"ndCavasneed",void 0),c([f],t)}(cc.Component);i.default=y,cc._RF.pop()},{"./common/CJ":"CJ","./common/CM":"CM","./common/CS":"CS","./common/GD":"GD","./common/LS":"LS","./sys/audioManager":"audioManager","./sys/decastis":"decastis"}],jsbcall:[function(e,t,i){"use strict";cc._RF.push(t,"2ed7bbc2lVKt56F8IF6chJ6","jsbcall"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../common/CJ"),n=e("../common/CS"),c=e("../common/GD"),a=e("./decastis"),r=function(){function e(){}return e.getInatance=function(){return null==this._instance&&(this._instance=new e),this._instance},e.prototype.sdk_ad_fail2=function(){a.default.dispatch(n.CS.eventName.REWARD_AD_FAIL2)},e.prototype.sdk_ad_ok2=function(){a.default.dispatch(n.CS.eventName.REWARD_AD_GET2)},e.prototype.sdk_ad_fail=function(){a.default.dispatch(n.CS.eventName.AdnotYet)},e.prototype.sdk_ad_ok=function(){a.default.dispatch(n.CS.eventName.REWARD_AD_GET)},e.prototype.sdk_ad_status=function(e){"yes"===e?o.CJ.rewardstart():"no"===e&&a.default.dispatch(n.CS.eventName.AdnotYet)},e.prototype.sdk_ad_status_get=function(e){"yes"===e?c.GD.Badsuceess=!0:"no"===e&&(c.GD.Badsuceess=!1,c.GD.Retry>0&&(c.GD.Retry--,c.GD.ndcanvas.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){o.CJ.rewardstatus()})))))},e._instance=null,e}();window.callAndroid=r.getInatance(),cc._RF.pop()},{"../common/CJ":"CJ","../common/CS":"CS","../common/GD":"GD","./decastis":"decastis"}],juice:[function(e,t,i){"use strict";cc._RF.push(t,"cb5cb3lqIRIXJZcN3lon/nd","juice");var o,n=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),c=function(e,t,i,o){var n,c=arguments.length,a=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(c<3?n(a):c>3?n(t,i,a):n(t,i))||a);return c>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wid=0,t.spf1=null,t.ct1=10,t.spf2=null,t.ct2=10,t.spf3=null,t.op1=200,t.spf4=null,t.ct3=10,t.spf5=null,t.ct4=10,t.spf6=null,t.op2=200,t}return n(t,e),t.prototype.start=function(){this.showJuice()},t.prototype.showJuice=function(){for(var e=this.wid,t=function(){var t=new cc.Node("Sprite");t.addComponent(cc.Sprite).spriteFrame=i.spf1,t.parent=i.node;var o=359*Math.random(),n=30*Math.random()+e/2,c=cc.v2(Math.sin(o*Math.PI/180)*n,Math.cos(o*Math.PI/180)*n);t.scale=.5*Math.random()+e/100;var a=.5*Math.random();t.position=i.node.position,t.runAction(cc.sequence(cc.spawn(cc.moveBy(a,c),cc.scaleTo(a+.5,.3),cc.rotateBy(a+.5,i.RandomInteger(-360,360))),cc.fadeOut(.1),cc.callFunc(function(){t.destroy()},i)))},i=this,o=0;o<this.ct1;++o)t();for(var n=function(){var t=new cc.Node("Sprite");t.addComponent(cc.Sprite).spriteFrame=c.spf2,t.parent=c.node;var i=359*Math.random(),o=30*Math.random()+e/2,n=cc.v2(Math.sin(i*Math.PI/180)*o,Math.cos(i*Math.PI/180)*o);t.scale=.5*Math.random()+e/100;var a=.5*Math.random();t.position=c.node.position,t.runAction(cc.sequence(cc.spawn(cc.moveBy(a,n),cc.scaleTo(a+.5,.3)),cc.fadeOut(.1),cc.callFunc(function(){t.destroy()},c)))},c=this,a=0;a<this.ct2;a++)n();var r=function(){var t=new cc.Node("Sprite");t.addComponent(cc.Sprite).spriteFrame=s.spf4,t.parent=s.node;var i=359*Math.random(),o=30*Math.random()+e/2,n=cc.v2(Math.sin(i*Math.PI/180)*o,Math.cos(i*Math.PI/180)*o);t.scale=.5*Math.random()+e/100;var c=.5*Math.random();t.position=s.node.position,t.runAction(cc.sequence(cc.spawn(cc.moveBy(c,n),cc.scaleTo(c+.5,.3),cc.rotateBy(c+.5,s.RandomInteger(-360,360))),cc.fadeOut(.1),cc.callFunc(function(){t.destroy()},s)))},s=this;for(o=0;o<this.ct3;++o)r();var l=function(){var t=new cc.Node("Sprite");t.addComponent(cc.Sprite).spriteFrame=d.spf5,t.parent=d.node;var i=359*Math.random(),o=30*Math.random()+e/2,n=cc.v2(Math.sin(i*Math.PI/180)*o,Math.cos(i*Math.PI/180)*o);t.scale=.5*Math.random()+e/100;var c=.5*Math.random();t.position=d.node.position,t.runAction(cc.sequence(cc.spawn(cc.moveBy(c,n),cc.scaleTo(c+.5,.3),cc.rotateBy(c+.5,d.RandomInteger(-360,360))),cc.fadeOut(.1),cc.callFunc(function(){t.destroy()},d)))},d=this;for(o=0;o<this.ct4;++o)l();var u=new cc.Node("Sprite");u.addComponent(cc.Sprite).spriteFrame=this.spf3,u.parent=this.node,u.position=this.node.position,u.scale=0,u.angle=this.RandomInteger(0,360),u.runAction(cc.sequence(cc.spawn(cc.scaleTo(.2,e/150),cc.fadeTo(1,this.op1)),cc.callFunc(function(){u.destroy()})));var p=new cc.Node("Sprite");p.addComponent(cc.Sprite).spriteFrame=this.spf6,p.parent=this.node,p.position=this.node.position,p.scale=0,p.angle=this.RandomInteger(0,360),p.runAction(cc.sequence(cc.spawn(cc.scaleTo(.2,e/150),cc.fadeTo(1,this.op2)),cc.callFunc(function(){p.destroy()})))},t.prototype.RandomInteger=function(e,t){return Math.floor(Math.random()*(t-e)+e)},c([s({displayName:"\u7279\u6548\u64ad\u653e\u8303\u56f4"})],t.prototype,"wid",void 0),c([s({displayName:"\u7206\u70b8\u788e\u7247A",type:cc.SpriteFrame})],t.prototype,"spf1",void 0),c([s({displayName:"\u7206\u70b8\u788e\u7247A\u6570\u91cf"})],t.prototype,"ct1",void 0),c([s({displayName:"\u7206\u70b8\u788e\u7247B",type:cc.SpriteFrame})],t.prototype,"spf2",void 0),c([s({displayName:"\u7206\u70b8\u788e\u7247B\u6570\u91cf"})],t.prototype,"ct2",void 0),c([s({displayName:"\u4e2d\u95f4\u653e\u5927A",type:cc.SpriteFrame})],t.prototype,"spf3",void 0),c([s({displayName:"\u4e2d\u95f4\u653e\u5927A\u900f\u660e\u5ea6\u81f3"})],t.prototype,"op1",void 0),c([s({displayName:"\u7206\u70b8\u788e\u7247C",type:cc.SpriteFrame})],t.prototype,"spf4",void 0),c([s({displayName:"\u7206\u70b8\u788e\u7247C\u6570\u91cf"})],t.prototype,"ct3",void 0),c([s({displayName:"\u7206\u70b8\u788e\u7247D",type:cc.SpriteFrame})],t.prototype,"spf5",void 0),c([s({displayName:"\u7206\u70b8\u788e\u7247D\u6570\u91cf"})],t.prototype,"ct4",void 0),c([s({displayName:"\u4e2d\u95f4\u653e\u5927B",type:cc.SpriteFrame})],t.prototype,"spf6",void 0),c([s({displayName:"\u4e2d\u95f4\u653e\u5927B\u900f\u660e\u5ea6\u81f3"})],t.prototype,"op2",void 0),c([r],t)}(cc.Component);i.default=l,cc._RF.pop()},{}],loading:[function(e,t,i){"use strict";cc._RF.push(t,"029b6xysBtIC4qoXe62je1Y","loading");var o,n=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),c=function(e,t,i,o){var n,c=arguments.length,a=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(c<3?n(a):c>3?n(t,i,a):n(t,i))||a);return c>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./common/CJ"),r=e("./common/CM"),s=e("./common/CS"),l=e("./common/GD"),d=e("./common/LS"),u=e("./sys/decastis"),p=cc._decorator,h=p.ccclass,f=p.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ndDesk=null,t.ll=null,t.camera=null,t.NDprivacy=null,t.NDloading=null,t.SPtest=null,t}return n(t,e),t.prototype.onLoad=function(){l.GD.ndcanvas=this.node,l.GD.hasSaveData=r.CM.getHasSaveData()},t.prototype.start=function(){cc.view.enableAntiAlias(!0);var e=cc.director.getWinSize();this.ndDesk.setPosition(0,-e.height/2-this.ndDesk.height/2+180),this.FC_loadfruitSpf(1,"fruit/fruit1")},t.prototype.FC_loadfruitSpf=function(e,t){var i=this;cc.loader.loadResDir(t,cc.SpriteFrame,function(t,o){if(t)console.error("spf err"+t);else{for(var n=0;n<11;n++){for(var c=o[0],a=n+1,s=0;s<o.length;s++)o[s].name==="fruit_"+e+"_"+a&&(c=o[s]);r.CM.spfFruit.setValue(e-1,n,c)}e<l.GD.skinsNumber.length?(e++,i.FC_loadfruitSpf(e,"fruit/fruit"+e)):i.FC_loadParticalSpf(1,1,"particle/pifu1")}})},t.prototype.FC_loadParticalSpf=function(e,t,i){var o=this;cc.loader.loadResDir(i,cc.SpriteFrame,function(i,n){if(i)console.error("spf err"+i);else{for(var c=0;c<11;c++){for(var a=n[0],s=c+1,l=0;l<n.length;l++)n[l].name==="juice"+e+"_"+t+"_"+s&&(a=n[l]);r.CM.spfParticle.setValue(e-1,10*(t-1)+c,a)}t<3?(t++,o.FC_loadParticalSpf(e,t,"particle/pifu"+e)):e<9?(e++,o.FC_loadParticalSpf(e,1,"particle/pifu"+e)):o.loadSPFok()}})},t.prototype.loadSPFok=function(){var e=this,t=this;cc.loader.loadRes("ui/game",cc.Prefab,function(i,o){if(i)console.error("pb err"+i);else{var n=cc.instantiate(o),c=e.node.getChildByName("nd");n.parent=c,t.go()}})},t.prototype.go=function(){a.CJ.gamestart((new Date).toString()),this.loadGameok()},t.prototype.loadGameok=function(){this.node.getChildByName("welcome").active=!1;var e=d.default.getLocal("skill0_num"),t=d.default.getLocal("skill1_num"),i=d.default.getLocal("skill2_num");null===e?(l.GD.iSkillnum[0]=1,d.default.setLocal("skill0_num",l.GD.iSkillnum[0])):l.GD.iSkillnum[0]=e,null===t?(l.GD.iSkillnum[1]=1,d.default.setLocal("skill1_num",l.GD.iSkillnum[1])):l.GD.iSkillnum[1]=t,null===i?(l.GD.iSkillnum[2]=1,d.default.setLocal("skill2_num",l.GD.iSkillnum[2])):l.GD.iSkillnum[2]=i;var o=d.default.getLocal("SkinLock_1"),n=r.CM.getMaxSkinLevel();if(null===o)for(var c=0;c<n;c++)r.CM.setSkinLock(c+1,1);u.default.dispatch(s.CS.eventName.UPDATE_NUM),a.CJ.rewardstatus()},t.prototype.update=function(){l.GD.Badsuceess?(this.ll.node.color=cc.Color.GREEN,this.ll.string="\u89c6\u9891\u5e7f\u544a\u72b6\u6001:\u5df2\u5c31\u7eea"):(this.ll.node.color=cc.Color.RED,this.ll.string="\u89c6\u9891\u5e7f\u544a\u72b6\u6001:\u672a\u5c31\u7eea")},c([f(cc.Node)],t.prototype,"ndDesk",void 0),c([f(cc.Label)],t.prototype,"ll",void 0),c([f(cc.Camera)],t.prototype,"camera",void 0),c([f(cc.Node)],t.prototype,"NDprivacy",void 0),c([f(cc.Node)],t.prototype,"NDloading",void 0),c([f(cc.Sprite)],t.prototype,"SPtest",void 0),c([h],t)}(cc.Component);i.default=g,cc._RF.pop()},{"./common/CJ":"CJ","./common/CM":"CM","./common/CS":"CS","./common/GD":"GD","./common/LS":"LS","./sys/decastis":"decastis"}],point:[function(e,t,i){"use strict";cc._RF.push(t,"ad6abFX6I5MpI+2erbLNA05","point");var o,n=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),c=function(e,t,i,o){var n,c=arguments.length,a=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(c<3?n(a):c>3?n(t,i,a):n(t,i))||a);return c>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._rigidBody=null,t}return n(t,e),t.prototype.start=function(){this._rigidBody=this.getComponent(cc.RigidBody)},t.prototype.onBeginContact=function(e,t,i){if("point"===t.node.group&&"role"===i.node.group){console.log("==========pointin22222====");var o=e.getWorldManifold().points,n=this.node.parent.convertToWorldSpaceAR(this.node.position),c=this._rigidBody.angularVelocity,a=i.node.getComponent("role").iType,r=-i.node.getComponent("role")._rigidBody.linearVelocity.y*a*(o[0].x-n.x)*5e-4;this._rigidBody.angularVelocity=c+r,console.log("\u53d1\u751f\u78b0\u649e"+this._rigidBody.angularVelocity)}},c([r],t)}(cc.Component));i.default=s,cc._RF.pop()},{}],privacy:[function(e,t,i){"use strict";cc._RF.push(t,"46a0a7UVXhMkrDUnlMDT2yH","privacy");var o,n=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),c=function(e,t,i,o){var n,c=arguments.length,a=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(c<3?n(a):c>3?n(t,i,a):n(t,i))||a);return c>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("../common/CJ"),r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.start=function(){},t.prototype.open=function(){a.CJ.privacy()},t.prototype.close=function(){this.node.active=!1},c([s],t)}(cc.Component));i.default=l,cc._RF.pop()},{"../common/CJ":"CJ"}],role:[function(e,t,i){"use strict";cc._RF.push(t,"1ebca35JZtGuq85KICFQuWN","role");var o,n=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),c=function(e,t,i,o){var n,c=arguments.length,a=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(c<3?n(a):c>3?n(t,i,a):n(t,i))||a);return c>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./common/CS"),r=e("./common/GD"),s=e("./common/CM"),l=e("./sys/decastis"),d=cc._decorator,u=d.ccclass,p=d.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bFirsttouch=!1,t.bFirstsfx=!1,t.iNum=0,t.iType=0,t.bFixed=!1,t.bCanfix=!1,t.bCanDel=!1,t.istGame=null,t.spfRole=[],t.btnDel=null,t.collidercount=0,t._lastPos=new cc.Vec2(-1,-1),t.timecount=0,t._rigidBody=null,t.isplayrole=!1,t}return n(t,e),t.prototype.start=function(){this.node.getChildByName("aim").active=!1,this._rigidBody=this.getComponent(cc.RigidBody)},t.prototype.onBeginContact=function(e,t,i){0==this.collidercount&&(this._lastPos=this.node.getPosition(),this.timecount=.8),"role"===t.node.group&&"role"===i.node.group&&(this.collidercount++,this.sfxDown(t.node.getComponent("role").iType,i.node.getComponent("role").iType),t.node.getComponent("role").bCanfix&&i.node.getComponent("role").bCanfix&&t.node.getComponent("role").iType===i.node.getComponent("role").iType&&t.node.getComponent("role").iNum<i.node.getComponent("role").iNum&&i.node.getComponent("role").iType<10&&this.levelUp(t.node,i.node)),"role"===t.node.group&&"wall"===i.node.group&&(this.collidercount++,this.sfxDown(0,1)),"role"===t.node.group&&"sharp"===i.node.group&&t.node.getComponent("role").iType<9&&(s.CM.playEffect(a.CS.audioSource.WATER),this.istGame.showJuice(t.node.getPosition(),t.node.getComponent("role").iType-1),t.node.active=!1),"sharp"===t.node.group&&"wall"===i.node.group&&(t.node.active=!1),"role"===t.node.group&&"point"===i.node.group&&(console.log("==========pointin===="),this.collidercount++,this.sfxDown(0,1))},t.prototype.sfxDown=function(){var e=this;this.bFirstsfx||(this.bFirstsfx=!0,s.CM.playEffect(a.CS.audioSource.KNOCK),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){e.bFixed=!0}))))},t.prototype.levelUp=function(e,t){r.GD.bGameover||r.GD.bFixlock||(r.GD.bFixlock=!0,e.getComponent("role").bCanfix=!1,l.default.dispatch(a.CS.eventName.FIX_ANM,e.getComponent("role").iType,e.angle,t.getPosition(),e.getPosition(),e),9===e.getComponent("role").iType&&this.istGame.getBigWatermelonTip(),r.GD.iScore+=r.GD.spValue[e.getComponent("role").iType+1],e.getComponent("role").iType++,t.active=!1,e.runAction(cc.sequence(cc.scaleTo(.12,.1).easing(cc.easeBackInOut()),cc.callFunc(function(){s.CM.playEffect(a.CS.audioSource.WATER),e.getComponent(cc.Sprite).spriteFrame=s.CM.spfFruit.getValue(s.CM.getUseSkinLevel()-1,e.getComponent("role").iType)}),cc.scaleTo(.25,r.GD.spScale[e.getComponent("role").iType]).easing(cc.easeBackInOut()),cc.delayTime(.05),cc.callFunc(function(){e.getComponent("role").bCanfix=!0,e.getComponent(cc.PhysicsCircleCollider).density=10*e.scale,r.GD.bFixlock=!1}))))},t.prototype.onPreSolve=function(e,t,i){"role"===t.node.group&&"role"===i.node.group&&t.node.getComponent("role").bCanfix&&i.node.getComponent("role").bCanfix&&t.node.getComponent("role").iType===i.node.getComponent("role").iType&&t.node.getComponent("role").iNum<i.node.getComponent("role").iNum&&i.node.getComponent("role").iType<10&&this.levelUp(t.node,i.node)},t.prototype.update=function(e){this._rigidBody&&this.collidercount>=1&&(this.timecount=this.timecount-e,this.timecount<=0&&(this._rigidBody.bullet=!1))},t.prototype.showDelAni=function(e){this.bCanDel=e,this.node.getChildByName("aim").active=e},t.prototype.clickDel=function(){if(this.bCanDel){s.CM.playEffect(a.CS.audioSource.CLEAR),l.default.dispatch(a.CS.eventName.DEL_FURIT,!1);var e=this.iType;e--,this.istGame.showJuice(this.node.getPosition(),e),this.node.active=!1}},c([p(cc.SpriteFrame)],t.prototype,"spfRole",void 0),c([p(cc.Button)],t.prototype,"btnDel",void 0),c([u],t)}(cc.Component);i.default=h,cc._RF.pop()},{"./common/CM":"CM","./common/CS":"CS","./common/GD":"GD","./sys/decastis":"decastis"}],selectskin:[function(e,t,i){"use strict";cc._RF.push(t,"d6b8cFtj1VG05LfsLVKbo7d","selectskin");var o,n=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),c=function(e,t,i,o){var n,c=arguments.length,a=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(c<3?n(a):c>3?n(t,i,a):n(t,i))||a);return c>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./common/CJ"),r=e("./common/CM"),s=e("./common/CS"),l=e("./common/GD"),d=e("./sys/decastis"),u=cc._decorator,p=u.ccclass,h=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.NDTitle=null,t.NDSkins=[],t.NDTip=null,t.useSkinLevel=0,t.adskinid=0,t}return n(t,e),t.prototype.onLoad=function(){d.default.on(s.CS.eventName.REWARD_AD_GET,this.getAdReward,this)},t.prototype.show=function(){this.useSkinLevel=r.CM.getUseSkinLevel(),this.NDTitle.getComponent(cc.Widget).target=l.GD.ndcanvas,this.RefreshSkins(),r.CM.setNowMaxSkinLevel(r.CM.getMaxSkinLevel())},t.prototype.hide=function(){this.node.active=!1,this.NDTip.stopAllActions(),this.NDTip.opacity=0},t.prototype.RefreshSkins=function(){for(var e=0;e<this.NDSkins.length;e++)r.CM.getSkinLock(e+1),this.RefreshSkin(e)},t.prototype.RefreshSkin=function(e){var t=r.CM.getSkinLock(e+1);e<l.GD.skinsNumber.length?1===t?(this.NDSkins[e].getChildByName("have").active=!0,this.NDSkins[e].getChildByName("empty").active=!1,this.NDSkins[e].getChildByName("have").getChildByName("select").active=e+1==r.CM.getUseSkinLevel(),this.NDSkins[e].getChildByName("have").getChildByName("gou").active=e+1==r.CM.getUseSkinLevel(),this.NDSkins[e].getChildByName("have").getChildByName("lock").active=!1):(this.NDSkins[e].getChildByName("have").active=!0,this.NDSkins[e].getChildByName("empty").active=!1,this.NDSkins[e].getChildByName("have").getChildByName("select").active=!1,this.NDSkins[e].getChildByName("have").getChildByName("gou").active=!1,this.NDSkins[e].getChildByName("have").getChildByName("new").active=!1,this.NDSkins[e].getChildByName("have").getChildByName("lock").active=!0):(this.NDSkins[e].getChildByName("have").active=!1,this.NDSkins[e].getChildByName("empty").active=!0)},t.prototype.ButtonClick_Select=function(e,t){var i=Number(t);this.useSkinLevel!=i&&(r.CM.playEffect(s.CS.audioSource.BTNPRESS),r.CM.setUseSkinLevel(i),this.RefreshSkin(this.useSkinLevel-1),this.RefreshSkin(i-1),d.default.dispatch(s.CS.eventName.Fresh_Skin),this.useSkinLevel=i)},t.prototype.ButtonClick_Mask=function(e,t){r.CM.playEffect(s.CS.audioSource.BTNPRESS),this.adskinid=Number(t),l.GD.iAdrewardtype=5,a.CJ.reward()},t.prototype.getAdReward=function(){5===l.GD.iAdrewardtype&&(r.CM.playEffect(s.CS.audioSource.GETSKIN),r.CM.setSkinLock(this.adskinid,1),r.CM.setUseSkinLevel(this.adskinid),this.RefreshSkin(this.useSkinLevel-1),this.RefreshSkin(this.adskinid-1),d.default.dispatch(s.CS.eventName.Fresh_Skin),this.useSkinLevel=this.adskinid)},t.prototype.ButtonClick_Close=function(){r.CM.playEffect(s.CS.audioSource.BTNPRESS),this.hide()},c([h(cc.Node)],t.prototype,"NDTitle",void 0),c([h(cc.Node)],t.prototype,"NDSkins",void 0),c([h(cc.Node)],t.prototype,"NDTip",void 0),c([p],t)}(cc.Component);i.default=f,cc._RF.pop()},{"./common/CJ":"CJ","./common/CM":"CM","./common/CS":"CS","./common/GD":"GD","./sys/decastis":"decastis"}]},{},["privacy","act","AR","CJ","CM","CS","GD","LS","SDK","dailyreward","demo","game","juice","loading","point","role","selectskin","audioManager","decastis","jsbcall"]);